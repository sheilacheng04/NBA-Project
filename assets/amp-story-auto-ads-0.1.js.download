;
(self.AMP=self.AMP||[]).push({m:0,v:"2510301759000",n:"amp-story-auto-ads",ev:"0.1",l:!0,f:function(t,i){!function(){function i(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}function n(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?n(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function e(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function a(t,i){if(t){if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}function s(t,i){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=a(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o;function u(){return o||(o=Promise.resolve(void 0))}var h=function(){var t=this;this.promise=new Promise((function(i,n){t.resolve=i,t.reject=n}))};function c(t,i){return(c=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function f(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&c(t,i)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,i){if(i&&("object"===v(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(i){var e=l(this).constructor;n=Reflect.construct(r,arguments,e)}else n=r.apply(this,arguments);return d(this,n)}}var m="ini-load",A=Array.isArray;function y(t,i){for(var n=0;n<t.length;n++)if(i(t[n],n,t))return n;return-1}var g,b=Object.prototype,S=b.hasOwnProperty;function E(t){var i=Object.create(null);return t&&Object.assign(i,t),i}function T(t,i){return S.call(t,i)}function _(t,i,n,r,e,a,s,o,u,h,c){return t}b.toString;var O=["Webkit","webkit","Moz","moz","ms","O","o"];function w(t){var i=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return O.some((function(t){return i.startsWith(t+"-")}))?"-".concat(i):i}function N(t,i,n){if(i.startsWith("--"))return i;g||(g=E());var r=g[i];if(!r||n){if(r=i,void 0===t[i]){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),a=function(t,i){for(var n=0;n<O.length;n++){var r=O[n]+i;if(void 0!==t[r])return r}return""}(t,e);void 0!==t[a]&&(r=a)}n||(g[i]=r)}return r}function I(t,i){var n=t.style;for(var r in i)n.setProperty(w(N(n,r)),String(i[r]),"important")}function D(t,i,n,r,e){var a=N(t.style,i,e);if(a){var s=r?n+r:n;t.style.setProperty(w(a),s)}}function P(t){return"".concat(t,"px")}function x(t){return JSON.parse(t)}function R(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(n)||n<0)throw new Error("Invalid depth: "+n);if(t===i)return!0;for(var r=[{a:t,b:i,depth:n}];r.length>0;){var e=r.shift(),a=e.a,s=e.b,o=e.depth;if(o>0){if(v(a)!==v(s))return!1;if(A(a)&&A(s)){if(a.length!==s.length)return!1;for(var u=0;u<a.length;u++)r.push({a:a[u],b:s[u],depth:o-1});continue}if(a&&s&&"object"===v(a)&&"object"===v(s)){var h=Object.keys(a),c=Object.keys(s);if(h.length!==c.length)return!1;for(var f=0,l=h;f<l.length;f++){var d=l[f];r.push({a:a[d],b:s[d],depth:o-1})}continue}}if(a!==s)return!1}return!0}var k=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function C(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return i}}function U(t){var i,n=E();if(!t)return n;for(;i=k.exec(t);){var r=C(i[1],i[1]),e=i[2]?C(i[2].replace(/\+/g," "),i[2]):"";n[r]=e}return n}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var L=self.__AMP_LOG;function j(t,i){throw new Error("failed to call initLogConstructor")}function M(t){return L.user||(L.user=B()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(L.user.win,t)?L.userForEmbed||(L.userForEmbed=B()):L.user}function B(t){return j()}function z(){return L.dev||(L.dev=j())}function V(t,i,n,r,e,a,s,o,u,h,c){return t}function H(t,i,n,r,e,a,s,o,u,h,c){return M().assert(t,i,n,r,e,a,s,o,u,h,c)}function G(t){return(t.ownerDocument||t).defaultView}function J(t,i){return Q(t=X(t),i)}function W(t,i){return it(t,i)}function Y(t,i){return Q($(q(t)),i)}function K(t,i){return tt($(t),i)}function F(t,i){return it($(t),i)}function X(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function q(t){return t.nodeType?(i=G(t),J(i,"ampdoc")).getAmpDoc(t):t;var i}function $(t){var i=q(t);return i.isSingleDoc()?i.win:i}function Q(t,i){V(rt(t,i));var n=nt(t)[i];return n.obj||(V(n.ctor),V(n.context),n.obj=new n.ctor(n.context),V(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function Z(t,i,n,r,e,a){var s=nt(t),o=s[n];o||(o=s[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:a||!1}),!e&&o.ctor||(o.ctor=r,o.context=i,o.sharedInstance=a||!1,o.resolve&&Q(t,n))}function tt(t,i){var n=it(t,i);if(n)return n;var r,e,a,s,o=nt(t);return o[i]=(e=(r=new h).promise,a=r.reject,s=r.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:s,reject:a,context:null,ctor:null}),o[i].promise}function it(t,i){var n=nt(t)[i];return n?n.promise?n.promise:(Q(t,i),n.promise=Promise.resolve(n.obj)):null}function nt(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function rt(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}var et="EXPERIMENTS",at="amp-experiment-toggles",st="__AMP__EXPERIMENT_TOGGLES";function ot(t,i){return!!ut(t)[i]}function ut(t){var i,n,e,a,o;if(t[st])return t[st];t[st]=E();var u=t[st];_(u);var h=r(r({},null!==(i=t.AMP_CONFIG)&&void 0!==i?i:{}),null!==(n=t.AMP_EXP)&&void 0!==n?n:x((null===(e=t.__AMP_EXP)||void 0===e?void 0:e.textContent)||"{}"));for(var c in h){var f=h[c];"number"==typeof f&&f>=0&&f<=1&&(u[c]=Math.random()<f)}var l=null===(a=t.AMP_CONFIG)||void 0===a?void 0:a["allow-doc-opt-in"];if(A(l)&&l.length){var v=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(v)for(var d,p,m=s((null===(d=v.getAttribute("content"))||void 0===d?void 0:d.split(","))||[],!0);!(p=m()).done;){var y=p.value;l.includes(y)&&(u[y]=!0)}}Object.assign(u,ht(t));var g=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-url-opt-in"];if(A(g)&&g.length)for(var b,S=U(t.location.originalHash||t.location.hash),T=s(g,!0);!(b=T()).done;){var O=b.value,w=S["e-".concat(O)];"1"==w&&(u[O]=!0),"0"==w&&(u[O]=!1)}return u}function ht(t){var i,n="";try{var r;"localStorage"in t&&(n=null!==(r=t.localStorage.getItem(at))&&void 0!==r?r:"")}catch(t){z().warn(et,"Failed to retrieve experiments from localStorage.")}for(var e,a=(null===(i=n)||void 0===i?void 0:i.split(/\s*,\s*/g))||[],o=E(),u=s(a,!0);!(e=u()).done;){var h=e.value;h&&("-"==h[0]?o[h.substr(1)]=!1:o[h]=!0)}return o}var ct,ft="story-ad-auto-advance",lt=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function vt(t,i,n,r,e){return e||(i?"�":r?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function dt(t,i){return t.replace(/^|,/g,"$&".concat(i," "))}function pt(t,i){return _(/^[\w-]+$/.test(i)),t.querySelector(i)}function mt(t,i){for(var n in i)t.setAttribute(n,i[n]);return t}function At(t,i,n){return mt(t.createElement(i),n)}function yt(t){var i;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(i=t.getAttribute("type"))||void 0===i?void 0:i.toUpperCase())}function gt(t,i,n){var r=t.hasAttribute(i),e=void 0!==n?n:!r;return e!==r&&(e?t.setAttribute(i,""):t.removeAttribute(i)),e}function bt(t){if(!t)return null;var i=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)(?:\?ssr-css=[0|1])?$/i),n=i?i[2]:void 0,r=i?i[3]:void 0;return n&&r?{extensionId:n,extensionVersion:r}:null}var St,Et,Tt=function(t){return function(t,i,n,r){var e=F(t,i);if(e)return e;var a=q(t);return a.whenExtensionsKnown().then((function(){var t=a.getExtensionVersion(n);return t?J(a.win,"extensions").waitForExtension(n,t):null})).then((function(n){return n?K(t,i):null}))}(t,"amp-analytics-instrumentation","amp-analytics")},_t=function(t){return J(t,"extensions")},Ot=function(t){return Y(t,"viewer")};function wt(t){if(void 0!==Et)return Et;Et=!1;try{var i={get passive(){return Et=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return Et}function Nt(t,i,n,r){var e={detail:n};if(Object.assign(e,r),"function"==typeof t.CustomEvent)return new t.CustomEvent(i,e);var a=t.document.createEvent("CustomEvent");return a.initCustomEvent(i,!!e.bubbles,!!e.cancelable,n),a}function It(t,i,n,r){return function(t,i,n,r){var e=t,a=n,s=function(t){try{return a(t)}catch(t){var i,n;throw null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t),t}},o=function(){if(void 0!==St)return St;St=!1;try{var t={get capture(){return St=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return St}(),u=!(null==r||!r.capture);return e.addEventListener(i,s,o?r:u),function(){null==e||e.removeEventListener(i,s,o?r:u),a=null,e=null,s=null}}(t,i,n,r)}function Dt(t){return t.data}r(r({},{VISIBLE:"visible",INACTIVE:"inactive"}),{},{PRERENDER:"prerender",PREVIEW:"preview",HIDDEN:"hidden",PAUSED:"paused"});var Pt,xt=function(){function t(){this.vt=null}var i=t.prototype;return i.add=function(t){var i=this;return this.vt||(this.vt=[]),this.vt.push(t),function(){i.remove(t)}},i.remove=function(t){var i,n,r;this.vt&&(n=t,-1!=(r=(i=this.vt).indexOf(n))&&i.splice(r,1))},i.removeAll=function(){this.vt&&(this.vt.length=0)},i.fire=function(t){if(this.vt)for(var i,n=s(this.vt.slice(),!0);!(i=n()).done;)(0,i.value)(t)},i.getHandlerCount=function(){var t,i;return null!==(t=null===(i=this.vt)||void 0===i?void 0:i.length)&&void 0!==t?t:0},t}();function Rt(t){var i,n=U(t).embedMode,r=parseInt(n,10);return 0===(i=r)||1===i||2===i||3===i||4===i?r:0}var kt="amp-story",Ct=function(t){var i=function(t){return function(t,i){return rt(t=X(t),i)?Q(t,i):null}(t,"story-store")}(t);return i||(i=new jt(t),function(t,n,r,e){Z(t=X(t),t,"story-store",(function(){return i}))}(t)),i},Ut={CAN_INSERT_AUTOMATIC_AD:1,CAN_SHOW_AUDIO_UI:2,CAN_SHOW_NAVIGATION_OVERLAY_HINT:3,CAN_SHOW_PAGINATION_BUTTONS:4,CAN_SHOW_SHARING_UIS:5,CAN_SHOW_STORY_URL_INFO:6,CAN_SHOW_SYSTEM_LAYER_BUTTONS:7,UI_STATE_CAN_BE_CALCULATED:8,VIEWER_CUSTOM_CONTROLS:9,VIEWER_ACTION_BUTTON_VISIBILITY:10,VIEWER_ACTION_BUTTON_POSITION:11,AD_STATE:12,PAGE_ATTACHMENT_STATE:13,EDUCATION_STATE:14,GYROSCOPE_PERMISSION_STATE:15,INFO_DIALOG_STATE:16,IN_APP_ACTIONS_CUSTOM_BEHAVIOUR_STATE:17,INTERACTIVE_COMPONENT_STATE:18,IS_USER_NAVIGATING_QUICKLY:19,HAS_USER_SEEN_AN_AD:20,NEW_PAGES_SINCE_LAST_AD:21,NEW_PAGES_SINCE_LAST_STORY_AD:22,TOUCH_EVENT_STATE:23,APPENDED_AD_PAGE_ATTACHMENTS:24,INTERACTIVE_REACT_STATE:25,KEYBOARD_ACTIVE_STATE:26,MUTED_STATE:27,PAGE_HAS_AUDIO_STATE:28,PAGE_HAS_CAPTION_STATE:29,CAPTIONS_STATE:30,PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE:31,PANNING_MEDIA_STATE:32,PAUSED_UI_IS_VISIBLE_STATE:33,PAUSED_STATE:34,PREVIEW_STATE:35,RTL_STATE:36,SHARE_MENU_STATE:37,SHOPPING_DATA:38,STORY_HAS_BACKGROUND_AUDIO_STATE:39,STORY_PLAYBACK_IS_DISABLED:40,STORY_HAS_PLAYBACK_UI_STATE:41,SYSTEM_UI_IS_VISIBLE_STATE:42,UI_STATE:43,DESKTOP_ASPECT_RATIO:44,ACTIONS_ALLOWLIST:45,CONSENT_ID:46,CURRENT_PAGE_ID:47,CURRENT_PAGE_INDEX:48,ADVANCEMENT_MODE:49,IS_ACTIVE_PLAYER_STORY:50,NAVIGATION_PATH:51,NEW_PAGE_AVAILABLE_ID:52,PAGE_IDS:53,PAGE_SIZE:54,SUBSCRIPTIONS_DIALOG_UI_STATE:55,SUBSCRIPTIONS_STATE:56,SUBSCRIPTIONS_PAGE_INDEX:57},Lt=(i(Pt={},Ut.ACTIONS_ALLOWLIST,(function(t,i){return t.length!==i.length})),i(Pt,Ut.INTERACTIVE_COMPONENT_STATE,(function(t,i){return t.element!==i.element||t.state!==i.state})),i(Pt,Ut.NAVIGATION_PATH,(function(t,i){return t.length!==i.length})),i(Pt,Ut.PAGE_IDS,(function(t,i){return t.length!==i.length})),i(Pt,Ut.PAGE_SIZE,(function(t,i){return null===t||null===i||t.width!==i.width||t.height!==i.height})),i(Pt,Ut.PANNING_MEDIA_STATE,(function(t,i){return null===t||null===i||!R(t,i,2)})),i(Pt,Ut.SHOPPING_DATA,(function(t,i){return null===t||null===i||!R(t,i,2)})),i(Pt,Ut.INTERACTIVE_REACT_STATE,(function(t,i){return!R(t,i,3)})),Pt),jt=function(){function t(t){this.t=t,this.an={},this.Li=r(r({},this.oT()),this.sT())}var n=t.prototype;return n.get=function(t){if(T(this.Li,t))return this.Li[t];z().error(kt,"Unknown state %s.",t)},n.subscribe=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];T(this.Li,t)?(this.an[t]||(this.an[t]=new xt),this.an[t].add(i),n&&i(this.get(t))):z().error(kt,"Can't subscribe to unknown state %s.",t)},n.dispatch=function(t,n){var e,a=this,s=r({},this.Li);this.Li=function(t,n,e){var a,s,o,u,h,c;switch(n){case 1:return r(r({},t),{},i({},Ut.INTERACTIVE_REACT_STATE,r(r({},t[Ut.INTERACTIVE_REACT_STATE]),{},i({},e.interactiveId,e))));case 2:return r(r({},t),{},i({},Ut.NEW_PAGE_AVAILABLE_ID,e));case 3:var f=r(r({},t[Ut.PANNING_MEDIA_STATE]),e);return r(r({},t),{},i({},Ut.PANNING_MEDIA_STATE,f));case 4:var l=r(r({},t[Ut.SHOPPING_DATA]),e);return r(r({},t),{},i({},Ut.SHOPPING_DATA,l));case 5:var v=[].concat(t[Ut.ACTIONS_ALLOWLIST],e);return r(r({},t),{},i({},Ut.ACTIONS_ALLOWLIST,v));case 6:return r(r({},t),{},i({},Ut.APPENDED_AD_PAGE_ATTACHMENTS,r(r({},t[Ut.APPENDED_AD_PAGE_ATTACHMENTS]),{},i({},e.pageId,e.pageAttachment))));case 13:return r(r({},t),{},i({},Ut.IN_APP_ACTIONS_CUSTOM_BEHAVIOUR_STATE,e));case 14:return r(r({},t),{},i({},Ut.IS_USER_NAVIGATING_QUICKLY,!!e));case 8:return r(r({},t),{},i({},Ut.NEW_PAGES_SINCE_LAST_AD,t[Ut.NEW_PAGES_SINCE_LAST_AD]+1));case 16:return r(r({},t),{},i({},Ut.NEW_PAGES_SINCE_LAST_AD,e));case 18:return r(r({},t),{},i({},Ut.HAS_USER_SEEN_AN_AD,!!e));case 9:return r(r({},t),{},i({},Ut.NEW_PAGES_SINCE_LAST_STORY_AD,t[Ut.NEW_PAGES_SINCE_LAST_STORY_AD]+1));case 27:return r(r({},t),{},i({},Ut.NEW_PAGES_SINCE_LAST_STORY_AD,0));case 17:return r(r({},t),{},i({},Ut.NEW_PAGES_SINCE_LAST_STORY_AD,e));case 34:return r(r({},t),{},i({},Ut.PAGE_ATTACHMENT_STATE,!!e));case 28:return r(r({},t),{},i({},Ut.AD_STATE,!!e));case 29:return r(r({},t),{},i({},Ut.EDUCATION_STATE,!!e));case 31:return r(r({},t),{},(i(a={},Ut.PAUSED_STATE,1===e.state),i(a,Ut.SYSTEM_UI_IS_VISIBLE_STATE,!0),i(a,Ut.INTERACTIVE_COMPONENT_STATE,e),a));case 30:return r(r({},t),{},(i(s={},Ut.INFO_DIALOG_STATE,!!e),i(s,Ut.PAUSED_STATE,!!e),s));case 46:return r(r({},t),{},i({},Ut.STORY_HAS_PLAYBACK_UI_STATE,!!e));case 45:return r(r({},t),{},i({},Ut.STORY_HAS_BACKGROUND_AUDIO_STATE,!!e));case 47:return r(r({},t),{},i({},Ut.STORY_PLAYBACK_IS_DISABLED,!!e));case 33:return r(r({},t),{},i({},Ut.MUTED_STATE,!!e));case 37:return r(r({},t),{},(i(o={},Ut.CAN_SHOW_AUDIO_UI,!!e),i(o,Ut.CAN_SHOW_SHARING_UIS,!!e),i(o,Ut.CAN_SHOW_STORY_URL_INFO,!!e),o));case 35:return r(r({},t),{},i({},Ut.PAGE_HAS_AUDIO_STATE,!!e));case 36:return r(r({},t),{},i({},Ut.PAGE_HAS_CAPTIONS_STATE,!!e));case 38:return r(r({},t),{},i({},Ut.CAPTIONS_STATE,!!e));case 39:return r(r({},t),{},i({},Ut.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,!!e));case 40:return r(r({},t),{},i({},Ut.PAUSED_STATE,!!e));case 41:return r(r({},t),{},i({},Ut.UI_STATE_CAN_BE_CALCULATED,!!e));case 42:return r(r({},t),{},i({},Ut.RTL_STATE,!!e));case 32:return r(r({},t),{},i({},Ut.KEYBOARD_ACTIVE_STATE,!!e));case 43:return r(r({},t),{},i({},Ut.PAUSED_UI_IS_VISIBLE_STATE,!!e));case 44:return r(r({},t),{},(i(u={},Ut.PAUSED_STATE,!!e),i(u,Ut.SHARE_MENU_STATE,!!e),u));case 50:return r(r({},t),{},i({},Ut.SYSTEM_UI_IS_VISIBLE_STATE,!!e));case 51:return r(r({},t),{},i({},Ut.TOUCH_EVENT_STATE,e));case 52:return 3===t[Ut.UI_STATE]&&3!==e?(z().error(kt,"Cannot switch away from UIType_Enum.VERTICAL"),t):r(r({},t),{},i({},Ut.UI_STATE,e));case 12:return r(r({},t),{},i({},Ut.GYROSCOPE_PERMISSION_STATE,e));case 11:return r(r({},t),{},i({},Ut.CONSENT_ID,e));case 7:return r(r({},t),{},(i(h={},Ut.CURRENT_PAGE_ID,e.id),i(h,Ut.CURRENT_PAGE_INDEX,e.index),h));case 10:return r(r({},t),{},i({},Ut.ADVANCEMENT_MODE,e));case 26:return r(r({},t),{},i({},Ut.IS_ACTIVE_PLAYER_STORY,e));case 15:return r(r({},t),{},i({},Ut.NAVIGATION_PATH,e));case 19:return r(r({},t),{},i({},Ut.PAGE_IDS,e));case 20:return r(r({},t),{},i({},Ut.PAGE_SIZE,e));case 21:return r(r({},t),{},i({},Ut.VIEWER_CUSTOM_CONTROLS,e));case 22:return r(r({},t),{},i({},Ut.VIEWER_ACTION_BUTTON_VISIBILITY,e));case 23:return r(r({},t),{},i({},Ut.VIEWER_ACTION_BUTTON_POSITION,e));case 24:return r(r({},t),{},i({},Ut.SUBSCRIPTIONS_PAGE_INDEX,e));case 48:return r(r({},t),{},(i(c={},Ut.SUBSCRIPTIONS_DIALOG_UI_STATE,!!e),i(c,Ut.PAUSED_STATE,!!e),c));case 49:return r(r({},t),{},i({},Ut.SUBSCRIPTIONS_STATE,e));case 25:return r(r({},t),{},i({},Ut.DESKTOP_ASPECT_RATIO,e));default:return z().error(kt,"Unknown action %s.",n),t}}(this.Li,t,n),Object.keys(this.an).forEach((function(t){((e=Lt[t])?e(s[t],a.Li[t]):s[t]!==a.Li[t])&&a.an[t].fire(a.Li[t])}))},n.oT=function(){var t,n=!1;try{var r=new URLSearchParams(this.t.location.search);r.has("inAppActionsHaveCustomBehaviour")&&(n="true"===r.get("inAppActionsHaveCustomBehaviour"))}catch(t){}return i(t={},Ut.CAN_INSERT_AUTOMATIC_AD,!0),i(t,Ut.CAN_SHOW_AUDIO_UI,!0),i(t,Ut.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!0),i(t,Ut.CAN_SHOW_PAGINATION_BUTTONS,!0),i(t,Ut.CAN_SHOW_SHARING_UIS,!0),i(t,Ut.CAN_SHOW_STORY_URL_INFO,!0),i(t,Ut.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!0),i(t,Ut.IS_ACTIVE_PLAYER_STORY,!1),i(t,Ut.IS_USER_NAVIGATING_QUICKLY,!1),i(t,Ut.VIEWER_CUSTOM_CONTROLS,[]),i(t,Ut.VIEWER_ACTION_BUTTON_VISIBILITY,"visible"),i(t,Ut.VIEWER_ACTION_BUTTON_POSITION,"right"),i(t,Ut.AD_STATE,!1),i(t,Ut.EDUCATION_STATE,!1),i(t,Ut.GYROSCOPE_PERMISSION_STATE,""),i(t,Ut.INFO_DIALOG_STATE,!1),i(t,Ut.IN_APP_ACTIONS_CUSTOM_BEHAVIOUR_STATE,n),i(t,Ut.INTERACTIVE_COMPONENT_STATE,{state:0}),i(t,Ut.INTERACTIVE_REACT_STATE,{}),i(t,Ut.KEYBOARD_ACTIVE_STATE,!1),i(t,Ut.MUTED_STATE,!0),i(t,Ut.HAS_USER_SEEN_AN_AD,!1),i(t,Ut.NEW_PAGES_SINCE_LAST_AD,0),i(t,Ut.NEW_PAGES_SINCE_LAST_STORY_AD,0),i(t,Ut.PAGE_ATTACHMENT_STATE,!1),i(t,Ut.PAGE_HAS_AUDIO_STATE,!1),i(t,Ut.PAGE_HAS_CAPTIONS_STATE,!1),i(t,Ut.CAPTIONS_STATE,!0),i(t,Ut.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,!1),i(t,Ut.PANNING_MEDIA_STATE,{}),i(t,Ut.PAUSED_STATE,!1),i(t,Ut.PAUSED_UI_IS_VISIBLE_STATE,!1),i(t,Ut.UI_STATE_CAN_BE_CALCULATED,!1),i(t,Ut.RTL_STATE,!1),i(t,Ut.SHARE_MENU_STATE,!1),i(t,Ut.SHOPPING_DATA,{}),i(t,Ut.STORY_HAS_BACKGROUND_AUDIO_STATE,!1),i(t,Ut.STORY_HAS_PLAYBACK_UI_STATE,!1),i(t,Ut.STORY_PLAYBACK_IS_DISABLED,!1),i(t,Ut.SYSTEM_UI_IS_VISIBLE_STATE,!0),i(t,Ut.TOUCH_EVENT_STATE,0),i(t,Ut.UI_STATE,0),i(t,Ut.ACTIONS_ALLOWLIST,[]),i(t,Ut.APPENDED_AD_PAGE_ATTACHMENTS,{}),i(t,Ut.CONSENT_ID,null),i(t,Ut.CURRENT_PAGE_ID,""),i(t,Ut.CURRENT_PAGE_INDEX,0),i(t,Ut.ADVANCEMENT_MODE,""),i(t,Ut.NEW_PAGE_AVAILABLE_ID,""),i(t,Ut.NAVIGATION_PATH,[]),i(t,Ut.PAGE_IDS,[]),i(t,Ut.PAGE_SIZE,null),i(t,Ut.PREVIEW_STATE,!1),i(t,Ut.SUBSCRIPTIONS_DIALOG_UI_STATE,!1),i(t,Ut.SUBSCRIPTIONS_STATE,0),i(t,Ut.SUBSCRIPTIONS_PAGE_INDEX,-1),i(t,Ut.DESKTOP_ASPECT_RATIO,0),t},n.sT=function(){var t,n,r;switch(Rt(this.t.location.hash)){case 1:return i(t={},Ut.CAN_INSERT_AUTOMATIC_AD,!1),i(t,Ut.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!1),i(t,Ut.CAN_SHOW_PAGINATION_BUTTONS,!1),i(t,Ut.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!1),i(t,Ut.MUTED_STATE,!1),t;case 2:return i({},Ut.CAN_SHOW_SHARING_UIS,!1);case 3:return i(n={},Ut.PREVIEW_STATE,!0),i(n,Ut.CAN_INSERT_AUTOMATIC_AD,!1),i(n,Ut.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!1),i(n,Ut.CAN_SHOW_PAGINATION_BUTTONS,!1),i(n,Ut.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!1),n;case 4:return i(r={},Ut.CAN_SHOW_AUDIO_UI,!1),i(r,Ut.CAN_SHOW_SHARING_UIS,!1),i(r,Ut.CAN_SHOW_STORY_URL_INFO,!1),r;default:return{}}},n.overrideEmbedMode=function(t){4===Rt(this.t.location.hash)&&0===t&&this.dispatch(37,!0)},t}(),Mt="default",Bt=/\w+/gi;function zt(t,i,n){for(var r,e=s(i,!0);!(r=e()).done;){var a,o=null===(a=t[r.value])||void 0===a?void 0:a[n];if(null!=o)return o.string||o}return null}var Vt=function(){function t(t){this.el=t,this.vT=Ot(t).getParam("lang"),this.dT={},this.yT=new xt}var i=t.prototype;return i.getLanguageCodesForElement=function(t){var i=function(t,i,n){var r;for(r=t;r&&void 0!==r;r=r.parentElement)if(i(r))return r;return null}(t,(function(t){return t.hasAttribute("lang")})),n=function(t){if(!t)return["en",Mt];var i=t.match(Bt)||[];return i.reduce((function(t,n,r){var e=i.slice(0,r+1).join("-").toLowerCase();return t.unshift(e),t}),[Mt])}((i?i.getAttribute("lang"):null)||"");return this.vT&&n.unshift(this.vT),n},i.registerLocalizedStringBundles=function(t){var i=this;Object.keys(t).forEach((function(n){var r=n.toLowerCase();i.dT[r]||(i.dT[r]={}),Object.assign(i.dT[r],t[n])})),this.yT.fire()},i.getLocalizedString=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el,n=this.getLanguageCodesForElement(i);return zt(this.dT,n,t)},i.getLocalizedStringAsync=function(t){var i=this,n=this.getLanguageCodesForElement(this.el),r=zt(this.dT,n,t);return null!==r?Promise.resolve(r):new Promise((function(r){var e=i.yT.add((function(){var a=zt(i.dT,n,t);a&&(e(),r(a))}))}))},t}(),Ht=JSON.parse('{"39":"الاشتراك الآن","40":"حجز","41":"شراء التذاكر","42":"تنزيل","43":"استكشاف","44":"تنزيل المحتوى الآن","45":"تثبيت الآن","46":"مزيد من المعلومات","47":"استماع","48":"المزيد","49":"فتح التطبيق","50":"إرسال طلب الآن","51":"تشغيل","52":"قراءة","53":"تسوق","54":"عرض","55":"مواعيد العرض","56":"اشتراك","57":"الاشتراك الآن","58":"استخدام التطبيق","59":"عرض","60":"المشاهدة","61":"مشاهدة الحلقة"}'),Gt=JSON.parse('{"39":"Jetzt bewerben","40":"Reservieren","41":"Tickets kaufen","42":"Herunterladen","43":"Erkunden","44":"Jetzt herunterladen","45":"Jetzt installieren","46":"Weitere Informationen","47":"Anhören","48":"Mehr","49":"App öffnen","50":"Jetzt bestellen","51":"Abspielen","52":"Lesen","53":"Einkaufen","54":"Anzeigen","55":"Vorführungszeiten","56":"Anmelden","57":"Jetzt abonnieren","58":"Zur App","59":"Ansehen","60":"Ansehen","61":"Folge ansehen"}'),Jt=JSON.parse('{"39":"Apply Now","40":"Book","41":"Buy Tickets","42":"Download","43":"Explore","44":"Get Now","45":"Install Now","46":"Learn More","47":"Listen","48":"More","49":"Open App","50":"Order Now","51":"Play","52":"Read","53":"Shop Now","54":"Show","55":"Performance times","56":"Sign Up","57":"Subscribe Now","58":"Use App","59":"View","60":"Watch","61":"Watch Episode"}'),Wt=JSON.parse('{"39":"Apply Now","40":"Book","41":"Buy Tickets","42":"Download","43":"Explore","44":"Get Now","45":"Install Now","46":"Learn More","47":"Listen","48":"More","49":"Open App","50":"Order Now","51":"Play","52":"Read","53":"Shop Now","54":"Show","55":"Showtimes","56":"Sign Up","57":"Subscribe Now","58":"Use App","59":"View","60":"Watch","61":"Watch Episode"}'),Yt=JSON.parse('{"39":"Enviar solicitud ahora","40":"Reservar","41":"Comprar entradas","42":"Descargar","43":"Explorar","44":"Obtener ahora","45":"Instalar ahora","46":"Más información","47":"Escuchar","48":"Más","49":"Abrir app","50":"Pedir ahora","51":"Reproducir","52":"Leer","53":"Comprar","54":"Mostrar","55":"Horarios","56":"Registrarse","57":"Suscribirse ahora","58":"Usar app","59":"Ver","60":"Mirar","61":"Mirar episodio"}'),Kt=JSON.parse('{"39":"Solicítalo ahora","40":"Reserva","41":"Compra entradas","42":"Descargar","43":"Consultar","44":"Descargar ahora","45":"Instalar ahora","46":"Consulta más información","47":"Escuchar","48":"Más","49":"Abrir la aplicación","50":"Haz el pedido ahora","51":"Reproducir","52":"Leer","53":"Comprar","54":"Mostrar","55":"Consulta los horarios","56":"Regístrate","57":"Suscríbete ahora","58":"Usa la aplicación","59":"Ver","60":"Visualízalo","61":"Ver episodio"}'),Ft=JSON.parse('{"39":"Inscrivez-vous dès maintenant","40":"Réserver","41":"Acheter des billets","42":"Télécharger","43":"Découvrir","44":"Obtenir","45":"Installer","46":"En savoir plus","47":"Écouter","48":"Plus","49":"Ouvrir l\'application","50":"Commander","51":"Lire","52":"Lire","53":"Acheter","54":"Afficher","55":"Horaires des séances","56":"S\'inscrire","57":"S\'abonner","58":"Utiliser l\'application","59":"Afficher","60":"Regarder","61":"Regarder l\'épisode"}'),Xt=JSON.parse('{"39":"अभी आवेदन करें","40":"बुक करें","41":"टिकट खरीदें","42":"डाउनलोड करें","43":"और जानें","44":"अभी पाएं","45":"अभी इंस्टॉल करें","46":"ज़्यादा जानें","47":"सुनें","48":"दूसरी सामग्री","49":"ऐप्लिकेशन खोलें","50":"अभी ऑर्डर करें","51":"चलाएं","52":"पढ़ें","53":"खरीदारी करें","54":"दिखाएं","55":"शो का समय","56":"साइन अप करें","57":"अभी सदस्य बनें","58":"ऐप्लिकेशन इस्तेमाल करें","59":"देखें","60":"देखें","61":"एपिसोड देखें"}'),qt=JSON.parse('{"39":"Daftarkan Sekarang","40":"Reservasi","41":"Beli Tiket","42":"Download","43":"Jelajahi","44":"Dapatkan Sekarang","45":"Instal Sekarang","46":"Pelajari Lebih Lanjut","47":"Dengarkan","48":"Lainnya","49":"Buka Aplikasi","50":"Pesan Sekarang","51":"Putar","52":"Baca","53":"Beli","54":"Tampilkan","55":"Jam Tayang","56":"Daftar","57":"Berlangganan Sekarang","58":"Gunakan Aplikasi","59":"Lihat","60":"Tonton","61":"Tonton Episode"}'),$t=JSON.parse('{"39":"Richiedi ora","40":"Prenota","41":"Acquista biglietti","42":"Scarica","43":"Esplora","44":"Scarica ora","45":"Installa ora","46":"Ulteriori informazioni","47":"Ascolta","48":"Altro","49":"Apri app","50":"Ordina ora","51":"Riproduci","52":"Leggi","53":"Acquista","54":"Mostra","55":"Orari di programmazione","56":"Registrati","57":"Abbonati ora","58":"Usa app","59":"Visualizza","60":"Guarda","61":"Guarda la puntata"}'),Qt=JSON.parse('{"39":"今すぐお申し込み","40":"予約","41":"チケットを購入","42":"ダウンロード","43":"探す","44":"今すぐ入手","45":"今すぐインストール","46":"詳細","47":"聴く","48":"もっと見る","49":"アプリを開く","50":"今すぐ注文","51":"再生","52":"読む","53":"購入","54":"表示","55":"上映時間","56":"登録","57":"今すぐ登録","58":"アプリを使用","59":"表示","60":"見る","61":"エピソードを見る"}'),Zt=JSON.parse('{"39":"신청하기","40":"예약","41":"티켓 구매","42":"다운로드","43":"탐색","44":"받기","45":"지금 설치","46":"자세히 알아보기","47":"듣기","48":"더보기","49":"앱 열기","50":"지금 주문","51":"재생","52":"읽기","53":"쇼핑하기","54":"표시","55":"상영일정","56":"가입","57":"지금 구독","58":"앱 사용","59":"보기","60":"보기","61":"에피소드 보기"}'),ti=JSON.parse('{"39":"Nu toepassen","40":"Boeken","41":"Kaartjes kopen","42":"Downloaden","43":"Verkennen","44":"Nu ophalen","45":"Nu installeren","46":"Meer informatie","47":"Luisteren","48":"Meer","49":"App openen","50":"Nu bestellen","51":"Afspelen","52":"Lezen","53":"Winkelen","54":"Weergeven","55":"Aanvangstijden","56":"Aanmelden","57":"Nu abonneren","58":"App gebruiken","59":"Bekijken","60":"Bekijken","61":"Aflevering bekijken"}'),ii=JSON.parse('{"39":"Søk nå","40":"Bestill","41":"Kjøp billetter","42":"Last ned","43":"Utforsk","44":"Skaff deg nå","45":"Installer nå","46":"Finn ut mer","47":"Lytt","48":"Mer","49":"Åpne appen","50":"Bestill nå","51":"Spill av","52":"Les","53":"Kjøp","54":"Vis","55":"Kinotider","56":"Registrer deg","57":"Abonner nå","58":"Bruk app","59":"Se","60":"Se","61":"Se episoden"}'),ni=JSON.parse('{"39":"Inscreva-se agora","40":"Agendar","41":"Comprar ingressos","42":"Download","43":"Descobrir","44":"Adquirir agora","45":"Instalar agora","46":"Saiba mais","47":"Ouvir","48":"Mais","49":"Abrir app","50":"Comprar agora","51":"Reproduzir","52":"Ler","53":"Comprar","54":"Mostrar","55":"Horários de exibição","56":"Inscreva-se","57":"Assinar","58":"Usar app","59":"Ver","60":"Assistir","61":"Assistir episódio"}'),ri=JSON.parse('{"39":"Candidate-se agora","40":"Reservar","41":"Comprar bilhetes","42":"Transferir","43":"Explorar","44":"Obter agora","45":"Instalar agora","46":"Saiba mais","47":"Ouvir","48":"Mais","49":"Abrir aplicação","50":"Encomendar agora","51":"Reproduzir","52":"Ler","53":"Comprar","54":"Mostrar","55":"Sessões","56":"Inscrever-se","57":"Subscrever agora","58":"Utilizar aplicação","59":"Ver","60":"Ver","61":"Ver episódio"}'),ei=JSON.parse('{"39":"Подать заявку","40":"Забронировать","41":"Купить билеты","42":"Скачать","43":"Изучить","44":"Скачать","45":"Установить","46":"Подробнее","47":"Слушать","48":"Ещё","49":"Открыть приложение","50":"Заказать","51":"Воспроизвести","52":"Читать","53":"Купить","54":"Показать","55":"Время сеансов","56":"Зарегистрироваться","57":"Подписаться","58":"Использовать приложение","59":"Смотреть","60":"Смотреть","61":"Смотреть серию"}'),ai=JSON.parse('{"39":"Hemen Başvur","40":"Kitap","41":"Bilet Satın Al","42":"İndir","43":"Keşfet","44":"Hemen Al","45":"Şimdi Yükle","46":"Daha Fazla Bilgi","47":"Dinle","48":"Diğer","49":"Uygulamayı Aç","50":"Şimdi Sipariş Et","51":"Oynat","52":"Oku","53":"Satın al","54":"Göster","55":"Gösterim zamanları","56":"Kaydol","57":"Şimdi Abone Ol","58":"Uygulama Kullan","59":"Göster","60":"İzle","61":"Bölümü İzle"}'),si=JSON.parse('{"39":"Đăng ký ngay bây giờ","40":"Sách","41":"Mua Vé","42":"Tải xuống","43":"Khám phá","44":"Nhận ngay","45":"Cài đặt ngay","46":"Tìm hiểu thêm","47":"Nghe","48":"Thêm","49":"Mở ứng dụng","50":"Đặt hàng ngay bây giờ","51":"Phát","52":"Đọc","53":"Mua sắm","54":"Hiển thị","55":"Thời gian chiếu","56":"Đăng ký","57":"Đăng ký ngay","58":"Sử dụng ứng dụng","59":"Xem","60":"Xem","61":"Xem tập"}'),oi=JSON.parse('{"39":"立即申请","40":"预订","41":"买票","42":"下载","43":"探索","44":"立即获取","45":"立即安装","46":"了解详情","47":"收听","48":"更多","49":"打开应用","50":"立即订购","51":"播放","52":"阅读","53":"选购","54":"显示","55":"放映时间","56":"注册","57":"立即订阅","58":"使用应用","59":"查看","60":"观看","61":"观看剧集"}'),ui=JSON.parse('{"39":"立即申請","40":"預訂","41":"買票","42":"下載","43":"探索","44":"立即取得","45":"立即安裝","46":"瞭解詳情","47":"聆聽","48":"顯示更多","49":"開啟應用程式","50":"立刻訂購","51":"播放","52":"閱讀","53":"購物","54":"顯示","55":"放映時間","56":"註冊","57":"立即訂閱","58":"使用應用程式","59":"查看","60":"觀看","61":"觀看劇集"}'),hi={APPLY_NOW:"39",BOOK_NOW:"40",BUY_TICKETS:"41",DOWNLOAD:"42",EXPLORE:"43",GET_NOW:"44",INSTALL:"45",LEARN_MORE:"46",LISTEN:"47",MORE:"48",OPEN_APP:"49",ORDER_NOW:"50",PLAY:"51",READ:"52",SHOP:"53",SHOW:"54",SHOWTIMES:"55",SIGN_UP:"56",SUBSCRIBE:"57",USE_APP:"58",VIEW:"59",WATCH:"60",WATCH_EPISODE:"61"},ci=function(){function t(t){this.Hut=t,this.m1=null}var i=t.prototype;return i.getLocalizedString=function(t){return this.m1||this.Oo(),this.m1.getLocalizedString(t)},i.Oo=function(){var t,i,n,r;this.m1=(t=this.Hut,(r=function(t){return i="localization",rt(n=$(q(t)),i)?Q(n,i):null;var i,n}(t))||(r=new Vt(t),"localization",i=function(){return r},Z($(n=q(t)),n,"localization",i)),r);var e,a,s,o=(a=function(t){return"[".concat(t," one two]")},s=function(t){return x(JSON.stringify(t))}(e=Wt),Object.keys(s).forEach((function(t){var i=t,n=e[i];s[i]=a(n.string||n)})),s);this.m1.registerLocalizedStringBundles({"default":Wt,"ar":Ht,"de":Gt,"en":Wt,"en-GB":Jt,"es":Kt,"es-419":Yt,"fr":Ft,"hi":Xt,"id":qt,"it":$t,"ja":Qt,"ko":Zt,"nl":ti,"no":ii,"pt-PT":ri,"pt-BR":ni,"ru":ei,"tr":ai,"vi":si,"zh-cn":oi,"zh-TW":ui,"en-xa":o})},t}(),fi="story-ad-analytics",li={AD_REQUESTED:"story-ad-request",AD_LOADED:"story-ad-load",AD_INSERTED:"story-ad-insert",AD_VIEWED:"story-ad-view",AD_SWIPED:"story-ad-swipe",AD_CLICKED:"story-ad-click",AD_EXITED:"story-ad-exit",AD_DISCARDED:"story-ad-discard",AD_SKIPPED:"story-ad-skipped",AD_PROGRESS:"story-ad-progress",AD_COMPLETE:"story-ad-complete",AD_PAUSED:"story-ad-paused",AD_RESUMED:"story-ad-resumed",AD_DISMISSED:"story-ad-dismissed"},vi="clickTime",di="adIndex",pi="adUniqueId",mi=function(){function t(t){this.t=t.win,this.Gut={}}var n=t.prototype;return n.fireEvent=function(t,i,n,r){this.Wut(i),Object.assign(this.Gut[i],r),function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Tt(t).then((function(e){e&&e.triggerEventForTarget(t,i,n,r)}))}(t,n,this.Gut[i])},n.setVar=function(t,i,n){this.Wut(t),this.Gut[t][i]=n},n.Wut=function(t){var n,r,e;this.Gut[t]||(this.Gut[t]=(i(n={},di,t),i(n,pi,(e=function(t,i){var n=t.crypto;if(!(n=n||t.msCrypto)||!n.getRandomValues)return null;var r=new Uint8Array(16);return n.getRandomValues(r),r}(r=this.t))?e.join(""):String(r.location.href+Date.now()+r.Math.random()+r.screen.width+r.screen.height)),n))},t}(),Ai=function(){function t(t){var i=this;this.qu=Y(t,"mutator"),this.Xc=t.win.document,this.Zc=this.Xc.createElement("div"),this.qu.mutateElement(this.Zc,(function(){i.Xc.body.appendChild(i.Zc),function(t,i){for(var n in i)D(t,n,i[n])}(i.Zc,{position:"absolute",top:0,left:0,zIndex:1,visibility:"hidden","font-weight":"bold","letter-spacing":"0.2px"})}))}var i=t.prototype;return i.fit=function(t,i,n){var r=this,e=!1;return this.qu.mutateElement(i,(function(){r.Zc.textContent=n;var a=function(t,i,n,r,e){for(var a=14;a>=12;a--){D(t,"fontSize",P(a));var s=t.offsetHeight,o=t.offsetWidth;if(s<32&&o<n)return a}return 11}(r.Zc,0,r.tf(t));a>=12&&(r.nf(i,a),e=!0)})).then((function(){return e}))},i.tf=function(t){return t.offsetWidth-84},i.nf=function(t,i){D(t,"fontSize",P(i))},t}();function yi(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,e,a=[],s=!0,o=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(a.push(r.value),!i||a.length!==i);s=!0);}catch(t){o=!0,e=t}finally{try{s||null==n.return||n.return()}finally{if(o)throw e}}return a}}(t,i)||a(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gi,bi,Si="none",Ei="v0";function Ti(t){return void 0===gi&&(i=t||Element,gi=i.prototype.attachShadow?"v1":i.prototype.createShadowRoot?Ei:Si),gi;var i}function _i(t,i,n){var r="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)r+=function(t,i,n){var r=[];return t.split(",").forEach((function(t){t=t.trim(),n&&(t=n(t)),function(t,i){var n=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+Ni,"m")}(i);return!t.match(n)}(t,i)&&(t=function(t,i){return function(t,i){return t.match(Di)?(t=t.replace(Ii,i)).replace(Di,i+" "):i+" "+t}(t,i)}(t,i)),r.push(t)})),r.join(", ")}(t.selectorText,i,n)+" {\n\t",r+=function(t){var i=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(i=i.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var n=t.style;for(var r in n)"initial"===n[r]&&(i+=r+": initial; ");return i}(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)r+="@media "+t.media.mediaText+" {\n",r+=_i(t.cssRules,i),r+="\n}\n\n";else try{t.cssText&&(r+=t.cssText+"\n\n")}catch(t){}})),r}var Oi="-shadowcsshost",wi=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Ni=(new RegExp("("+Oi+wi,"gim"),new RegExp("(-shadowcsscontext"+wi,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),Ii=Oi+"-no-combinator",Di=new RegExp(Oi,"gim");new RegExp("-shadowcsscontext","gim");var Pi=/[^\.\-\_0-9a-zA-Z]/,xi=/[^\-\_0-9a-zA-Z]/;function Ri(t){var i,n=G(t),r=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(r){if(self.trustedTypes&&self.trustedTypes.createPolicy){var e=self.trustedTypes.createPolicy("shadow-embed#createShadowRoot",{createHTML:function(t){return""}});r.innerHTML=e.createHTML("")}else r.innerHTML="";return r}var a,s=Ti();if("v1"==s?(i=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(i,"styleSheets",{get:function(){var t=[];return i.childNodes.forEach((function(i){"STYLE"===i.tagName&&t.push(i.sheet)})),t}}):i=s==Ei?t.createShadowRoot():function(t){var i=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var n=i.createElement("style");n.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(n);var r=i.createElement("i-amphtml-shadow-root");return t.appendChild(r),t.__AMP_SHADOW_ROOT=r,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:r}),r.host=t,r.getElementById=function(t){var i=String(t).replace(lt,vt);return r.querySelector("#".concat(i))},Object.defineProperty(r,"styleSheets",{get:function(){return i.styleSheets?(t=i.styleSheets,t?Array.prototype.slice.call(t):[]).filter((function(t){return r.contains(t.ownerNode)})):[];var t}}),r}(t),!function(){if(void 0!==bi)return bi;if(Ti()==Si)bi=!1;else{var t=Ti()===Ei?self.document.createElement("div").createShadowRoot():self.document.createElement("div").attachShadow({mode:"open"});i=ShadowRoot,bi=!!i&&-1!=i.toString().indexOf("[native code]")&&t instanceof ShadowRoot}var i;return bi}()){var o="i-amphtml-sd-".concat(n.Math.floor(1e4*n.Math.random()));i.id=o,i.host.classList.add(o),a=function(t){return function(t,i){return function(t,i){var n=V(t.id),r=t.ownerDocument,e=null;try{e=Ui(r.implementation.createHTMLDocument(""),i)}catch(t){}if(!e)try{e=Ui(r,i)}catch(t){}return e?_i(e,".".concat(n),ki):i}(t,i)}(i,t)},i.__AMP_CSS_TR=a}return i}function ki(t){return t.replace(/(html|body)/g,Ci)}function Ci(t,i,n,r){var e=r.charAt(n-1),a=r.charAt(n+t.length);return e&&!Pi.test(e)||a&&!xi.test(a)?t:"amp-"+t}function Ui(t,i){var n=t.createElement("style");n.textContent=i;try{return(t.head||t.documentElement).appendChild(n),n.sheet?n.sheet.cssRules:null}finally{n.parentNode&&n.parentNode.removeChild(n)}}function Li(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=t.toLowerCase().match(/^([0-9\.]+)\s*(s|ms)$/),r=n?n[1]:void 0,e=n?n[2]:void 0;return!n||3!==n.length||"s"!==e&&"ms"!==e?i:Math.round(("s"==e?1e3:1)*parseFloat(r))}function ji(t,i,n){var r=self.document.createElement("style");r.textContent=n;var e=Ri(t);return e.appendChild(r),e.appendChild(i),t}"[".concat("data-text-background-color","]");var Mi,Bi,zi=function(){function t(t){this.zt=t,this.It=0,this.Ct=0,this.Ot=E()}var i=t.prototype;return i.has=function(t){return!!this.Ot[t]},i.get=function(t){var i=this.Ot[t];if(i)return i.access=++this.Ct,i.payload},i.put=function(t,i){this.has(t)||this.It++,this.Ot[t]={payload:i,access:this.Ct},this.qt()},i.qt=function(){if(!(this.It<=this.zt)){var t,i=this.Ot,n=this.Ct+1;for(var r in i){var e=i[r].access;e<n&&(n=e,t=r)}void 0!==t&&(delete i[t],this.It--)}},t}();function Vi(t){return"https:"==(t=function(t){return"string"==typeof t?function(t,i){return Mi||(Mi=self.document.createElement("a"),Bi=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new zi(100))),function(t,i,n){if(n&&n.has(i))return n.get(i);t.href=i,t.protocol||(t.href=t.href);var r,e={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,e.origin=r;var a=e;return n&&n.put(i,a),a}(Mi,t,Bi)}(t):t}(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(n=".localhost",(r=(i=t.hostname).length-n.length)>=0&&i.indexOf(n,r)==r);var i,n,r}function Hi(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return H(null!=t,"%s %s must be available",i,n),H(Vi(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',i,n,t),t}var Gi="amp-story-auto-ads:ui",Ji="amp4ads-vars-",Wi="advertiser-name",Yi="cta-type",Ki="cta-url",Fi=["cta-accent-color","cta-accent-element","cta-image","theme"],Xi=function(){function t(t,i,n){var r=this;this.Ls=Q(t,"timer"),this.Us=i,this.Hs=n||0,this.Gs=-1,this.Vs=0,this.Fs=!1,this.qs=function(){r.Bs()}}var i=t.prototype;return i.isPending=function(){return-1!=this.Gs},i.schedule=function(t){var i=t||this.Hs;this.Fs&&i<10&&(i=10);var n=Date.now()+i;return(!this.isPending()||n-this.Vs<-10)&&(this.cancel(),this.Vs=n,this.Gs=this.Ls.delay(this.qs,i),!0)},i.Bs=function(){this.Gs=-1,this.Vs=0,this.Fs=!0,this.Us(),this.Fs=!1},i.cancel=function(){this.isPending()&&(this.Ls.cancel(this.Gs),this.Gs=-1)},t}(),qi="__AMP_Gestures",$i=function(t,i,n,r){this.type=t,this.data=i,this.time=n,this.event=r},Qi=function(){function t(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.el=t,this.UL=[],this.tg=[],this.Pi=[],this.zL=[],this.VL=null;var r=t.ownerDocument.defaultView,e=wt(r);this.BL=i||e,this.GL=n,this.HL=!1,this.Bs=new Xi(G(t),this.Ys.bind(this)),this.YL=new xt,this.JL=Object.create(null),this.WL=this.lm.bind(this),this.FL=this.vm.bind(this),this.qL=this.pm.bind(this),this.KL=this.ug.bind(this),this.el.addEventListener("touchstart",this.WL,!!e&&{passive:!0}),this.el.addEventListener("touchend",this.FL),this.el.addEventListener("touchmove",this.qL,!!e&&{passive:!0}),this.el.addEventListener("touchcancel",this.KL),this.XL=!1}t.get=function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=i[qi];return e||(e=new t(i,n,r),i[qi]=e),e};var i=t.prototype;return i.cleanup=function(){this.el.removeEventListener("touchstart",this.WL),this.el.removeEventListener("touchend",this.FL),this.el.removeEventListener("touchmove",this.qL),this.el.removeEventListener("touchcancel",this.KL),delete this.el[qi],this.Bs.cancel()},i.onGesture=function(t,i){var n=new t(this),r=n.getType(),e=this.JL[r];return e||(this.UL.push(n),e=new xt,this.JL[r]=e),e.add(i)},i.removeGesture=function(t){var i=new t(this).getType(),n=this.JL[i];if(n){n.removeAll();var r=y(this.UL,(function(t){return t.getType()==i}));return!(r<0||(this.UL.splice(r,1),this.Pi.splice(r,1),this.zL.splice(r,1),this.tg.splice(r,1),delete this.JL[i],0))}return!1},i.onPointerDown=function(t){return this.YL.add(t)},i.lm=function(t){var i=Date.now();this.HL=!1,this.YL.fire(t);for(var n=0;n<this.UL.length;n++)this.Pi[n]||(this.zL[n]&&this.zL[n]<i&&this.og(n),this.UL[n].onTouchStart(t)&&this.hg(n));this.$L(t)},i.pm=function(t){for(var i=Date.now(),n=0;n<this.UL.length;n++)this.tg[n]&&(this.zL[n]&&this.zL[n]<i?this.og(n):this.UL[n].onTouchMove(t)||this.og(n));this.$L(t)},i.vm=function(t){for(var i=Date.now(),n=0;n<this.UL.length;n++)if(this.tg[n])if(this.zL[n]&&this.zL[n]<i)this.og(n);else{this.UL[n].onTouchEnd(t);var r=!this.zL[n],e=this.zL[n]<i;this.VL==this.UL[n]||!r&&!e||this.og(n)}this.$L(t)},i.ug=function(t){for(var i=0;i<this.UL.length;i++)this.ZL(i);this.$L(t)},i.sm=function(t,i){if(this.VL)t.acceptCancel();else{for(var n=Date.now(),r=0;r<this.UL.length;r++)this.UL[r]==t&&(this.Pi[r]=n+i,this.zL[r]=0);this.XL=!0}},i.QL=function(t,i){if(this.VL)t.acceptCancel();else for(var n=Date.now(),r=0;r<this.UL.length;r++)this.UL[r]==t&&(this.zL[r]=n+i)},i.tU=function(t){this.VL==t&&(this.VL=null,this.HL=!0)},i.iU=function(t,i,n){_(this.VL==t);var r=this.JL[t.getType()];r&&r.fire(new $i(t.getType(),i,Date.now(),n))},i.$L=function(t){var i=!!this.VL||this.HL;if(this.HL=!1,!i)for(var n=Date.now(),r=0;r<this.UL.length;r++)if(this.Pi[r]||this.zL[r]&&this.zL[r]>=n){i=!0;break}i?(t.stopPropagation(),this.BL||t.preventDefault()):this.GL&&t.stopPropagation(),this.XL&&(this.XL=!1,this.Ys())},i.Ys=function(){for(var t=Date.now(),i=-1,n=0;n<this.UL.length;n++)this.Pi[n]?(-1==i||this.Pi[n]>this.Pi[i])&&(i=n):this.zL[n]&&this.zL[n]<t&&this.og(n);if(-1!=i){for(var r=0,e=0;e<this.UL.length;e++)!this.Pi[e]&&this.tg[e]&&(r=Math.max(r,this.zL[e]-t));r<2?this.nU(i):this.Bs.schedule(r)}},i.nU=function(t){for(var i=this.UL[t],n=0;n<this.UL.length;n++)n!=t&&this.ZL(n);this.Pi[t]=0,this.zL[t]=0,this.VL=i,i.acceptStart()},i.hg=function(t){this.tg[t]=!0,this.zL[t]=0},i.og=function(t){this.tg[t]=!1,this.zL[t]=0,this.Pi[t]||this.UL[t].acceptCancel()},i.ZL=function(t){this.Pi[t]=0,this.og(t)},t}(),Zi=function(){function t(t,i){this.rU=t,this.Hy=i}var i=t.prototype;return i.getType=function(){return this.rU},i.signalReady=function(t){this.Hy.sm(this,t)},i.signalPending=function(t){this.Hy.QL(this,t)},i.signalEnd=function(){this.Hy.tU(this)},i.signalEmit=function(t,i){this.Hy.iU(this,t,i)},i.acceptStart=function(){},i.acceptCancel=function(){},i.onTouchStart=function(t){return!1},i.onTouchMove=function(t){return!1},i.onTouchEnd=function(t){},t}();function tn(t,i,n){i<1&&(i=1);var r=t/i,e=.5+Math.min(i/33.34,.5);return r*e+n*(1-e)}Math.round(-16.67/Math.log(.95));var nn=function(t){f(n,t);var i=p(n);function n(t){return i.call(this,"swipe-x",t,!0,!1)}return n}(function(t){f(n,t);var i=p(n);function n(t,n,r,e){var a;return(a=i.call(this,t,n)).oU=r,a.sU=e,a.VL=!1,a.aU=0,a.eU=0,a.uU=0,a.hU=0,a.cU=0,a.lU=0,a.ya=0,a.fU=0,a.pU=0,a.mU=0,a.vU=0,a}var r=n.prototype;return r.onTouchStart=function(t){var i=t.touches;return!!(this.VL&&i&&i.length>1)||!(!i||1!=i.length)&&(this.ya=Date.now(),this.aU=i[0].clientX,this.eU=i[0].clientY,!0)},r.onTouchMove=function(t){var i=t.touches;if(i&&i.length>=1){var n=i[0],r=n.clientX,e=n.clientY;if(this.uU=r,this.hU=e,this.VL)this.dU(!1,!1,t);else{var a=Math.abs(r-this.aU),s=Math.abs(e-this.eU);if(this.oU&&this.sU)(a>=8||s>=8)&&this.signalReady(-10);else if(this.oU){if(a>=8&&a>s)this.signalReady(-10);else if(s>=8)return!1}else{if(!this.sU)return!1;if(s>=8&&s>a)this.signalReady(-10);else if(a>=8)return!1}}return!0}return!1},r.onTouchEnd=function(t){var i=t.touches;i&&0==i.length&&this.yU(t)},r.acceptStart=function(){this.VL=!0,this.cU=this.aU,this.lU=this.eU,this.pU=this.ya,this.aU=this.uU,this.eU=this.hU,this.dU(!0,!1,null)},r.acceptCancel=function(){this.VL=!1},r.dU=function(t,i,n){this.fU=Date.now();var r=this.fU-this.pU;if(!i&&r>4||i&&r>16){var e=tn(this.uU-this.cU,r,this.mU),a=tn(this.hU-this.lU,r,this.vU);(!i||r>32||0!=e||0!=a)&&(this.mU=Math.abs(e)>1e-4?e:0,this.vU=Math.abs(a)>1e-4?a:0),this.cU=this.uU,this.lU=this.hU,this.pU=this.fU}this.signalEmit({first:t,last:i,time:this.fU,deltaX:this.uU-this.aU,deltaY:this.hU-this.eU,startX:this.aU,startY:this.eU,lastX:this.uU,lastY:this.hU,velocityX:this.mU,velocityY:this.vU},n)},r.yU=function(t){this.VL&&(this.VL=!1,this.dU(!1,!0,t),this.signalEnd())},n}(Zi)),rn=(r(r({},{"bg":"https://tpc.googlesyndication.com/b4a/b4a-runner.html","moat":"https://z.moatads.com/ampanalytics093284/iframe.html"}),{},{"bg":"https://tpc.googlesyndication.com/b4a/experimental/b4a-runner.html"}),"beacon");function en(t,i,n){if(H("string"==typeof i.finalUrl,"finalUrl of target '%s' must be a string",t),i.filters&&i.filters.forEach((function(t){H(n.filters[t],"filter '%s' not defined",t)})),i.vars){var r=/^_[a-zA-Z0-9_-]+$/;for(var e in i.vars)H(r.test(e),"'%s' must match the pattern '%s'",e,r)}}var an,sn="amp-story-visible",on=function(){function t(t,i,n,r,e,a,s){this.wq=i,this.mo=n,this.m1=e,this.Mi="i-amphtml-ad-page-".concat(this.mo),this.t=t.win,this.Xc=this.t.document,this.TN=K(t,fi),this.Yut=null,this.Kut=null,this.oS=null,this.Xut=null,this.IK=null,this.$ut=null,this.Qut=null,this.Zut=null,this.oS=null,this.Ky=!1,this.tht=[],this.iht=a,this.nht=null,this.rht=!1,this.eT=s,this.eht=!1,this.aht=r}var n=t.prototype;return n.getAdvertiserName=function(){return this.IK},n.getAdDoc=function(){return this.Zut},n.getId=function(){return this.Mi},n.hasTimedOut=function(){return!!this.Yut&&Date.now()-this.Yut>3e3},n.isLoaded=function(){return this.Ky},n.hasBeenViewed=function(){return this.rht},n.getPageElement=function(){return this.Kut},n.registerLoadCallback=function(t){this.tht.push(t)},n.toggleVisibility=function(t){if(this.rht=!0,this.$ut&&gt(this.$ut,"cta-active"),this.Zut){gt(this.Zut.body,sn);var i=this.Zut.querySelector("#x-a4a-former-body");i&&gt(i,sn)}if(t){var n,r=this.sht();null==r||null===(n=r.contentWindow)||void 0===n||n.postMessage({name:"ad-pixel-visible"},"*")}},n.build=function(){this.Yut=Date.now(),this.Kut=this.oht(),this.oS=this.fS();var t=this.Xc.createElement("div");t.classList.add("i-amphtml-glass-pane");var n=this.Xc.createElement("amp-story-grid-layer");n.setAttribute("template","fill");var r=n.cloneNode(!1);return n.appendChild(this.oS),r.appendChild(t),this.Kut.appendChild(n),this.Kut.appendChild(r),this.listenForAdLoadSignals(),this.uht(),this.hht(),this.cht(),this.aht.setID(this.Mi),this.Cet(li.AD_REQUESTED,i({},"requestTime",Date.now())),this.Kut},n.fht=function(t){try{return Boolean(new URL(t))}catch(t){return!1}},n.setUpNonAmpAdMetadata=function(t){var n,r=t.advertiserName||null,e=(i(n={},Yi,t.swipeUpText),i(n,Ki,t.swipeUpUrl),i(n,Wi,r),i(n,"cta-should-open-new-tab",t.ctaShouldOpenNewTab),n),a=(this.nht,!!this.nht&&Object.entries(this.nht).some((function(t){var i=yi(t,2),n=i[0];return i[1]!==e[n]})));this.nht=e;var s=t.autoAdvanceAfter||"",o=t.pageType||"";this.IK=r,this.aht.setAdvertiserName(r),"image"!==o&&"video"!==o||this.aht.setPageType(o);var u=Li(s);isNaN(u)||(this.aht.setContentLength(u/1e3),this.Kut.getImpl().then((function(t){t.setAutoAdvance(s)}))),a&&this.maybeReplaceCta()},n.setUpStorytellerAdMetadata=function(t){var i=t.advertiserName||null;this.IK=i,this.aht.setAdvertiserName(i)},n.maybeReplaceCta=function(){this.Qut&&(this.Qut.removeCta(),this.maybeCreateCta())},n.maybeCreateCta=function(){var t=this;return u().then((function(){if(t.eht&&!t.nht)return!0;var n,r,e,a=[];t.nht?n=t.nht:(n=E(),e=null!==(r=t.Zut)&&void 0!==r?r:t.oS,a=e.querySelectorAll("meta[name]"),t.Zut?Object.assign(n,function(t){var i=E();return t.forEach((function(t){var n=t.content,r=t.name;if(r.startsWith("amp-cta-")){var e=r.split("amp-")[1];i[e]=n}else if(r.startsWith(Ji)){var a=r.split(Ji)[1];i[a]=n}})),i}(a),t.lht()):Object.assign(n,function(t){var n,r=t.getAttribute("data-vars-ctaplatform"),e=t.getAttribute("data-vars-ctaurl"),a=t.getAttribute("data-vars-ctatype"),s=t.getAttribute("data-vars-advertisername");return i(n={},Wi,s),i(n,"cta-platform",r),i(n,Yi,a),i(n,Ki,e),n}(V(t.oS))),n["cta-type"]=function(t,i){if(hi[t]){var n=hi[t];return i.getLocalizedString(n)}return t}(n["cta-type"],t.m1)||n["cta-type"]);var s,o=function(t){return{advertiserName:t["advertiser-name"],swipeUpText:t["cta-type"],swipeUpUrl:t["cta-url"]}}(n),u=o.advertiserName,h=o.swipeUpText,c=o.swipeUpUrl;return t.IK=u,t.aht.setAdvertiserName(u),(s=n)["cta-type"]&&s["cta-url"]?(t.aht.setPageAction(h,c),t.TN.then((function(i){i.setVar(t.mo,"ctaType",n["cta-type"]);for(var r=0,e=Object.entries(function(t){var i=E();return t.forEach((function(t){var n=t.content,r=t.name;/^[a-zA-Z0-9\-_]+$/.test(r)&&(i[r]=n)})),i}(a));r<e.length;r++){var s=yi(e[r],2),o=s[0],u=s[1];i.setVar(t.mo,"STORY_AD_META_".concat(o),u)}})),t.getAdvertiserName()||(t.Xut=function(t,i,n){var r=t.document;try{var e=i["attribution-url"],a=i["attribution-icon"];if(!e||!a)return null;Hi(e,n,"amp-story-auto-ads attribution url"),Hi(a,n,"amp-story-auto-ads attribution icon");var s=At(r,"div",{"role":"button","class":"i-amphtml-attribution-host"}),o=At(r,"img",{"class":"i-amphtml-story-ad-attribution","src":a});return o.addEventListener("click",(function(i){return function(t,i){!function(t,i,n,r){var e,a;try{e=t.open(i,n,void 0)}catch(t){z().error("DOM","Failed to open url on target: ",n,t)}!e&&("number"!=typeof a&&(a=0),a+"noopener".length>"".length||-1==="".indexOf("noopener",a))&&(e=t.open(i,"_top"))}(t,i,"_blank")}(t,e)})),ji(s,o,".i-amphtml-story-ad-attribution{position:absolute;bottom:0!important;left:0!important;max-height:15px!important;z-index:4!important}.i-amphtml-story-ad-fullbleed.i-amphtml-story-ad-attribution{bottom:12.5vh!important;left:50%!important;transform:translateX(-22.5vh)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-attribution.css*/"),n.appendChild(s),o}catch(t){return null}}(t.t,n,V(t.Kut)))&&t.eT.subscribe(Ut.UI_STATE,(function(i){t.TD(i)}),!0),t.vht(n)):"custom"===t.wq.type}))},n.oht=function(){var t={"ad":"","aria-hidden":!0,"distance":1===this.eT.get(Ut.PAGE_IDS).length?"1":"2","i-amphtml-loading":"","id":this.Mi},i=At(this.Xc,"amp-story-page",t);return D(i,"background-color","#212125"),i},n.fS=function(){"fake"===this.wq.type&&(this.wq.id="i-amphtml-demo-".concat(this.mo));var t=this.dht();return this.oS=At(this.Xc,"amp-ad",t),this.oS.setUpStorytellerAdMetadata=this.setUpStorytellerAdMetadata.bind(this),this.oS.maybeReplaceCta=this.maybeReplaceCta.bind(this),this.oS},n.dht=function(){var t=this.wq,i=t.json;return i&&"object"===v(i)&&(t.json=JSON.stringify(i)),t},n.updateConfig=function(t){if(!this.isLoaded()){this.wq=t;var i=this.dht();this.oS=mt(this.oS,i)}},n.uht=function(){var t=this;It(this.t,"message",(function(i){var n=Dt(i),r=t.sht();if(i.source===(null==r?void 0:r.contentWindow))if("amp-story-ad-info"!==n.name){if("amp-story-video-ad-info"===n.name){var e=n.videoDuration;e&&!isNaN(e)&&(t.aht.setContentLength(e),t.Kut.getImpl().then((function(t){t.setAutoAdvance("".concat(e,"s"),r.contentWindow)})))}}else{var a=n.advertiserName||null,s=n.autoAdvanceAfter||"",o=n.pageType||"";a&&(t.IK=a,t.aht.setAdvertiserName(a)),"image"!==o&&"video"!==o||t.aht.setPageType(o);var u=Li(s);isNaN(u)||(t.aht.setContentLength(u/1e3),t.Kut.getImpl().then((function(t){t.setAutoAdvance(s)})))}}))},n.listenForAdLoadSignals=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.oS.signals().whenSignal(m).then((function(){t.pht((function(){return i()}))}));var n=It(this.t,"message",(function(r){var e;"amp-story-ad-load"===Dt(r)&&r.source===(null===(e=t.sht())||void 0===e?void 0:e.contentWindow)&&(t.eht=!0,t.Kut.setAttribute("xdomain-ad",""),t.pht((function(){return i()})),n())}))},n.cht=function(){var t=this;this.eT.subscribe(Ut.APPENDED_AD_PAGE_ATTACHMENTS,(function(n){var r=n[t.getId()];r&&r.addEventListener("click",(function(){var n=i({},vi,Date.now());t.Cet(li.AD_CLICKED,n)}))}),!0)},n.hht=function(){var t=this,n=Qi.get(this.Kut,!0,!1);n.onGesture(nn,(function(){t.Cet(li.AD_SWIPED,i({},"swipeTime",Date.now())),n.cleanup()}))},n.mht=function(){var t,i,n,r,e=this;if(t=this.Zut?null===(i=this.Zut)||void 0===i?void 0:i.body.dataset.autoAdvanceAfter:null===(n=this.Kut)||void 0===n?void 0:n.getAttribute("auto-advance-after")){var a=Li(t);isNaN(a)||this.aht.setContentLength(a/1e3),this.Zut&&this.Kut.getImpl().then((function(i){i.setAutoAdvance(t)}))}(r=this.Zut?this.Zut.querySelector("amp-video"):this.oS.querySelector("amp-video"))&&(this.aht.setPageType("video"),r.getImpl().then((function(t){var i=t.getDuration();isNaN(i)||e.aht.setContentLength(i),e.Zut&&!r.hasAttribute("loop")&&e.Kut.getImpl().then((function(t){t.setAutoAdvance(i+"s")}))})))},n.setPageAudioState=function(){this.Zut&&this.Zut.querySelectorAll("video").length&&this.Kut.getImpl().then((function(t){t.eT.dispatch(35,!0)}))},n.sht=function(){return pt(V(this.Kut),"iframe")},n.pht=function(t){t(),this.Kut.getImpl().then((function(t){return t.delegateVideoAutoplay()}));var n,r=this.sht();r&&!this.eht&&(this.Zut=(n=r).contentDocument||n.contentWindow.document),this.mht(),this.Cet(li.AD_LOADED,i({},"loadTime",Date.now())),this.Kut.removeAttribute("i-amphtml-loading"),this.Ky=!0,this.tht.forEach((function(t){return t()}))},n.vht=function(t){var n=this;return function(t,i,n,r){var e=r["cta-url"],a=r["cta-type"],o=At(t,"a",{"class":"i-amphtml-story-ad-link","target":"_blank","href":e});return i.fit(n,o,a).then((function(i){return i?(o.href=e,o.textContent=a,"https:"!==o.protocol&&"http:"!==o.protocol?(M().warn(Gi,"CTA url is not valid. Ad was discarded"),null):function(t,i,n){var r=t.createElement("amp-story-page-outlink");r.setAttribute("layout","nodisplay"),r.setAttribute("cta-type",i["cta-platform"]);var e="_top";"true"===i["cta-should-open-new-tab"]&&(e="_blank");var a=At(t,"a",{"class":"i-amphtml-story-ad-link","target":e,"href":i["cta-url"]});a.textContent=i["cta-type"],r.appendChild(a);for(var o,u=s(Fi,!0);!(o=u()).done;){var h=o.value;i[h]&&r.setAttribute(h,i[h])}return _t(G(t)).installExtensionForDoc(q(t),"amp-story-page-attachment","0.1"),r.className="i-amphtml-story-page-outlink-container",n.appendChild(r),{anchor:a,outlink:r}}(t,r,n)):(M().warn(Gi,"CTA button text is too long. Ad was discarded."),null)}))}(this.Xc,V(this.iht),this.Kut,t).then((function(t){if(t){var r=t||{},e=r.anchor,a=r.outlink;return n.$ut=e,n.Qut=a,e.addEventListener("click",(function(){var t=i({},vi,Date.now());n.Cet(li.AD_CLICKED,t)})),!0}return!1}))},n.lht=function(){var t=pt(this.Zut.body,"amp-ad-exit");if(t)try{var n=t.children;H(1==n.length,"The tag should contain exactly one <script> child.");var r=n[0];H(yt(r),'The amp-ad-exit config should be inside a <script> tag with type="application/json"');var e=function(t){return H("object"==v(t)),t.filters?function(t){var i=["clickDelay","clickLocation","inactiveElement"];for(var n in t)H("object"==v(t[n]),"Filter specification '%s' is malformed",n),H(-1!=i.indexOf(t[n].type),"Supported filters: "+i.join(", "))}(t.filters):t.filters={},t.transport?function(t){for(var i in t)H(i==rn||"image"==i,"Unknown transport option: '".concat(i,"'")),H("boolean"==typeof t[i])}(t.transport):t.transport={},function(t,i){for(var n in H("object"==v(t),"'targets' must be an object"),t)en(n,t[n],i)}(t.targets,t),t}(x(r.textContent)),a=e.targets&&Object.keys(e.targets)&&e.targets[Object.keys(e.targets)[0]],s=a&&a.finalUrl;return a?i({},Ki,s):{}}catch(t){return z().error("amp-story-auto-ads:page",t),{}}},n.TD=function(t){this.Xut&&this.Xut.classList.toggle("i-amphtml-story-ad-fullbleed",2===t)},n.Cet=function(t,i){var n=this;this.TN.then((function(e){return e.fireEvent(n.Kut,n.mo,t,r(r({},i),n.aht.getOneBoxAnalyticsData()))})),this.aht.triggerAdAnalyticsEvent(t)},t}(),un="firstQuartile",hn="midpoint",cn="thirdQuartile",fn=function(){function t(t,i){this.RL=t,this.eT=i,this.NK=!1,this._K=!1,this.RK=!1,this.IK=null,this.id="",this.CK="image",this.Aht="",this.Gv=0,this.yht=null,this.DK=null,this.PK=null,this.ght()}var n=t.prototype;return n.ght=function(){var t=this;this.RL.getAmpDoc().onVisibilityChanged((function(){t.RL.getAmpDoc().isVisible()||(t.yht=!1)}))},n.UK=function(){var t=this.eT.get(Ut.ADVANCEMENT_MODE);return{ad:{id:this.Mi,advertiserName:this.IK,duration:this.Gv,pageType:this.CK,swipeUpText:this.DK,swipeUpUrl:this.PK},storyAdvancementMode:t,storyId:this.RL.element.id}},n.getOneBoxAnalyticsData=function(){var t,n="automaticPlayback";return"manualAdvance"===this.eT.get(Ut.ADVANCEMENT_MODE)&&(n="tap"),i(t={"adAdvertiserName":this.IK},li.STORY_PAGE_DURATION,this.Gv),i(t,"storyPageType",this.CK),i(t,"adOpenedReason",n),i(t,"storyPageActionText",this.DK),i(t,"storyPageActionUrl",this.PK),i(t,"storyPageHasAction",!!this.PK),t},n.getOneBoxVariablesOverride=function(){return i({},pi,this.Mi)},n.setAdvertiserName=function(t){this.IK=t},n.setPageAction=function(t,i){t&&(this.DK=t,this.PK=i)},n.setID=function(t){this.Mi=t},n.setPageType=function(t){this.CK=t},n.setContentLength=function(t){this.Gv=parseInt(t,10)||0},n.bht=function(t){var i,n;return t===un&&(i="FirstQuartile",n="First Quartile"),t===hn&&(i="Midpoint",n="Midpoint"),t===cn&&(i="ThirdQuartile",n="Third Quartile"),{eventType:li.AD_PROGRESS,data:r(r({},this.UK()),{},{progressType:t,progressTypePascalCase:i,progressTypeTitleCase:n})}},n.triggerAdProgressAnalyticsEvent=function(t){t<=.25&&(this.NK||this._K||this.RK)&&this.kK(),t>=.25&&!this.NK&&(this.NK=!0,this.RL.fT&&this.RL.fT.send("onStoryAdEvent",this.bht(un))),t>=.5&&!this._K&&(this._K=!0,this.RL.fT&&this.RL.fT.send("onStoryAdEvent",this.bht(hn))),t>=.75&&!this.RK&&(this.RK=!0,this.RL.fT&&this.RL.fT.send("onStoryAdEvent",this.bht(cn)))},n.triggerAdAnalyticsEvent=function(t,i){if(t===li.AD_PAUSED){if(!this.RL.getAmpDoc().isVisible())return void(this.yht=!1);this.yht=!0}if(t===li.AD_RESUMED){var n=this.RL.getAmpDoc().isVisible();if(!n)return void(this.yht=!1);if(!1===this.yht)return void(this.yht=n)}this.yht=!0,this.RL.fT&&this.RL.fT.send("onStoryAdEvent",{eventType:t,data:r(r({},i),this.UK())}),this.kK()},n.kK=function(){this.NK=!1,this._K=!1,this.RK=!1},t}(),ln=function(){function t(t,i){this.RL=t,this.wq=i,this.Er=t.getAmpDoc(),this.TN=K(this.Er,fi),this.m1=new ci(this.RL.element),this.iht=new Ai(this.Er),this.AU={},this.eT=Ct(this.Er.win),this.Sht=0,this.Eht=[],this.Tht=this.createAdPage()}var n=t.prototype;return n.getInitialAdPage=function(){return this.Tht},n.hasUnusedAdPage=function(){return this.Sht<this.Eht.length},n.getUnusedAdPage=function(){var t=this.Eht[this.Sht];return V(t),this.AU[t]},n.discardCurrentAd=function(){var t;this.Sht++,this.Cet(li.AD_DISCARDED,(i(t={},di,this.Sht),i(t,"discardTime",Date.now()),t))},n.numberOfAdsCreated=function(){return this.Eht.length},n.createAdPage=function(){var t=this,i=this.Eht.length+1,n=new fn(this.RL,this.eT),r=new on(this.Er,this.wq,i,n,this.m1,V(this.iht),V(this.eT)),e=r.build(),a=r.getId();return this.RL.xU.setAnalyticsPageManagerForAd(a,n),this.AU[a]=r,this.Eht.push(a),this.RL.element.appendChild(e),e.getImpl().then((function(i){t.RL.addPage(i)})),r},n.hasId=function(t){return!!this.AU[t]},n.getAdPageById=function(t){return this.AU[t]},n.getAdPageAnalyticsManagerById=function(t){return this.RL.xU.getAnalyticsPageManagerForAd(t)},n.getIndexById=function(t){return y(this.Eht,(function(i){return i===t}))+1},n.maybeInsertPageAfter=function(t,i){var n=this,r=this.RL.getPageById(t),e=this.RL.getNextPage(r);return this._ht(r)||r.isAd()||null!=e&&e.isAd()?Promise.resolve(0):i.maybeCreateCta().then((function(r){return r?n.Oht(i,t):(n.discardCurrentAd(),1)}))},n.updateConfig=function(t){var i=this;this.wq=t,this.Eht.forEach((function(n){var r=i.AU[n];null==r||r.updateConfig(t)}))},n.setUpNonAmpAdMetadata=function(t,i){var n=this.getAdPageById(t);null==n||n.setUpNonAmpAdMetadata(i)},n.Oht=function(t,i){var n=t.getId();this.RL.insertPage(i,n);var r=this.getIndexById(n),e=this.RL.getPageIndexById(i);return this.TN.then((function(t){return t.setVar(r,"position",e+1)})),this.wht(),2},n.wht=function(){var t;this.Sht++,this.Cet(li.AD_INSERTED,(i(t={},di,this.Sht),i(t,"insertTime",Date.now()),t))},n._ht=function(t){return t.element.hasAttribute("next-page-no-ad")},n.Cet=function(t,i){var n=this;this.TN.then((function(r){return r.fireEvent(n.RL.element,i.adIndex,t,i)}))},t}(),vn=function(){function t(t,i,n,r,e){this.eT=t,this.Nht=i,this.Iht=E(),this.Dht=!1,this.Pht=n,this.xht=r,this.Rht=e}var i=t.prototype;return i.isStoryEligible=function(){return!0},i.initializePages=function(){return[this.Nht.getInitialAdPage()]},i.onPageChange=function(t){var i=T(this.Iht,t),n=this.eT.get(Ut.NEW_PAGES_SINCE_LAST_AD)+1,r=this.eT.get(Ut.NEW_PAGES_SINCE_LAST_STORY_AD)+1,e=this.kht(t,n,r),a=e.reasonForNotPlacingAd,s=e.shouldTryToPlaceAdAfterPage;i||(this.Iht[t]=!0,this.Cht(),"buffer"===a?this.Uht(1):this.Lht()),!this.Dht&&s&&this.Nht.hasUnusedAdPage()&&this.jht(t)},i.onNewAdView=function(t){var i=t===this.eT.get(Ut.PAGE_IDS).length-1;this.Dht=!1,this.Mht(),i?this.Bht():(this.Uht(0),this.zht(t)&&this.Nht.createAdPage())},i.zht=function(t){return this.eT.get(Ut.PAGE_IDS).length-t>=this.xht},i.kht=function(t,i,n){var r=this.eT.get(Ut.PAGE_IDS),e=r.findIndex((function(i){return i===t}))===r.length-1,a=this.eT.get(Ut.HAS_USER_SEEN_AN_AD),s="";return e?{shouldTryToPlaceAdAfterPage:i>=this.xht&&n>=this.xht,reasonForNotPlacingAd:s}:!a&&this.Rht>0?{shouldTryToPlaceAdAfterPage:i>=this.Rht,reasonForNotPlacingAd:s}:{shouldTryToPlaceAdAfterPage:i>=this.Pht&&n>=this.xht,reasonForNotPlacingAd:s=i===this.Pht&&(i<this.xht||n<this.xht)?"buffer":""}},i.jht=function(t){var i=this,n=this.Nht.getUnusedAdPage(),r=this.eT.get(Ut.PAGE_IDS),e=r.findIndex((function(i){return i===t}));if(!n.isLoaded()&&n.hasTimedOut()&&(this.Nht.discardCurrentAd(),this.zht(e))){var a=t===r[r.length-1];this.Nht.createAdPage(),this.Uht(0),a&&this.Bht()}n.isLoaded()?this.Nht.maybeInsertPageAfter(t,n).then((function(t){i.eT.get(Ut.CURRENT_PAGE_INDEX)>e||2!==t||(i.Dht=!0)})):this.Vht(t,n)},i.Vht=function(t){var i=this,n=this.Nht.getUnusedAdPage(),r=this.eT.get(Ut.PAGE_IDS).findIndex((function(i){return i===t}));null==n||n.listenForAdLoadSignals((function(){i.Dht||i.eT.get(Ut.CURRENT_PAGE_INDEX)>r||i.Nht.maybeInsertPageAfter(t,n).then((function(t){i.eT.get(Ut.CURRENT_PAGE_INDEX)>r||2!==t||(i.Dht=!0)}))}))},i.Lht=function(){this.eT.dispatch(8)},i.Uht=function(t){this.eT.dispatch(16,t)},i.Cht=function(){this.eT.dispatch(9)},i.Bht=function(){this.eT.dispatch(27)},i.Mht=function(){this.eT.dispatch(18,!0)},t}(),dn=function(){function t(t,i){this.eT=t,this.Nht=i,this.Dht=!1,this.Hht=!1,this.Ght=!1}var i=t.prototype;return i.isStoryEligible=function(){return!0},i.initializePages=function(){var t=this.eT.get(Ut.PAGE_IDS),i=t[t.length-1],n=this.Nht.getInitialAdPage();return this.jht(i,n),[n]},i.onPageChange=function(t){var i=this.eT.get(Ut.PAGE_IDS);i.findIndex((function(i){return i===t}))===i.length-1&&!this.Dht&&!this.Hht&&this.Nht.hasUnusedAdPage()&&this.jht(t,this.Nht.getUnusedAdPage())},i.onNewAdView=function(){this.Dht=!1},i.jht=function(t,i){var n=this;!i||this.Dht||this.Hht||(this.Hht=!0,this.Ght++,i.registerLoadCallback((function(){n.Nht.maybeInsertPageAfter(t,i).then((function(i){return n.Hht=!1,2===i?(n.Dht=!0,void(n.Ght=0)):n.eT.get(Ut.IS_ACTIVE_PLAYER_STORY)?n.Ght>3?(n.Ght=0,void n.Nht.discardCurrentAd()):void n.jht(t):void(n.Ght=0)}))})))},t}(),pn="amp-story-auto-ads:config",mn={"height":!0,"layout":!0,"width":!0},An={"custom":{"data-slot":!0},"doubleclick":{"data-url":!0}},yn={"betweenStories":!0,"betweenStoriesAndPages":!0},gn={class:"i-amphtml-story-ad",layout:"fill","amp-story":""},bn=function(){function t(t,i,n){this.el=t,this.Jht=null,this.t=i,this.RL=n}var i=t.prototype;return i.getConfig=function(){var t=this;return this.Jht?Promise.resolve(this.Wht(this.Jht)):(this.el.hasAttribute("src")?this.Yht():this.T5(this.el.firstElementChild)).then((function(i){var n=t.Kht(i);return t.Wht(n)}))},i.Kht=function(t){var i=this.Fht(),n={};i["ad-attributes"]&&(n=i["ad-attributes"]);var r={},e=t["ad-attributes"];H(e,"".concat(pn," Error reading config. ")+'Top level JSON should have an "ad-attributes" key');var a=!!n.type,s=a&&n.type!==e.type;try{if(!s)throw new Error("");var o=this.Xht(n),u=o.errorMessage;if(!o.isValid)throw new Error("Override config invalid, falling back to JSON config type: ".concat(u));var h=n.type;for(var c in"custom"===h&&this.qht(),n){var f=n[c];r[c]=f,mn[c]&&(M().warn(pn,'ad-attribute "%s" is not allowed',c),delete r[c]),An[h][c]&&delete r[c]}}catch(t){t instanceof Error&&t.message&&M().warn(pn,t.message);var l=this.Xht(e),v=l.errorMessage;if(!l.isValid)return void M().error(pn,"Invalid JSON config: ".concat(v));var d=e.type;for(var p in e){var m=e[p];r[p]=m,mn[p]&&(M().warn(pn,'ad-attribute "%s" is not allowed',p),delete r[p]),An[d][p]&&delete r[p]}if(a&&!s)for(var A in n){var y=n[A];r[A]=y,(mn[A]||An[d][A])&&delete r[A]}}var g=t["storyteller-attributes"];return H(!!yn[g.adStrategy],"".concat(pn,' "').concat(g.adStrategy,'" ad strategy is missing or not supported')),"betweenStoriesAndPages"===g.adStrategy&&(isNaN(g.adFrequency)&&M().error(pn,"ad frequency should be a valid number"),isNaN(g.adBuffer)&&M().error(pn,"ad buffer should be a valid number"),g.adBuffer>g.adFrequency&&M().error(pn,"ad buffer should be lower than ad frequency")),{"ad-attributes":r,"storyteller-attributes":g}},i.Wht=function(t){return r(r(r({},t["ad-attributes"]),t["storyteller-attributes"]),gn)},i.Xht=function(t){var i=!0,n="";switch(t.type){case"doubleclick":t["data-slot"]||(i=!1,n="data-slot is required to use doubleclick ads");break;case"custom":t["data-url"]||(i=!1,n="data-url is required to use custom ads");break;case"fake":var r=this.el.id;r&&r.startsWith("i-amphtml-demo-")||(i=!1,n="".concat(pn," id must start with i-amphtml-demo- to use fake ads"))}return{isValid:i,errorMessage:n}},i.qht=function(){var t=function(t,i){if(void 0!==ct?ct:ct=function(t){try{var i=t.ownerDocument,n=i.createElement("div"),r=i.createElement("div");return n.appendChild(r),n.querySelector(":scope div")===r}catch(t){return!1}}(t))return t.querySelector(dt(i,":scope"));var n=function(t,i){var n=t.classList,r="i-amphtml-scoped";n.add(r);var e=dt("template#video-ad",".".concat(r)),a=t.querySelectorAll(e);return n.remove(r),a}(t)[0];return void 0===n?null:n}(this.RL.element,"template#video-ad");t&&(t.content.querySelector("amp-video").id="video-ad-media")},i.Fht=function(){var t=this.t.location.search,i=new URLSearchParams(t).get("adConfig"),n={};return i&&(n=JSON.parse(i)),n},i.T5=function(t){H(t&&yt(t),"The ".concat(pn," should ")+'be inside a <script> tag with type="application/json"');var i=x(t.textContent);return Promise.resolve(i)},i.Yht=function(){return(t=this.t,J(t,"xhr")).fetchJson(this.el.getAttribute("src")).then((function(t){return t.json()})).catch((function(t){M().error(pn,"error determining if remote config is valid json: bad url or bad json",t)}));var t},i.updateConfig=function(t){var i=this.el.firstElementChild;H(i&&yt(i),"The ".concat(pn," should ")+'be inside a <script> tag with type="application/json"');var n=x(t);return i.textContent=JSON.stringify(n),this.Jht=n,Promise.resolve(this.Wht(n))},t}(),Sn="amp-story-auto-ads",En=(i(an={},"31067116",ft),i(an,"31067117",ft),i(an,"31067118",ft),i(an,"31067119",ft),an),Tn="ad-showing",_n=function(t){f(e,t);var n=p(e);function e(t){var i;(i=n.call(this,t)).Xc=i.win.document,i.RL=null,i.$ht=null,i.Qht={},i.wq={},i.TN=null,i.Zht=null,i.tct=null,i.eT=null,i.ict=null,i.nct=null;var r=new h;return i.rct=r.promise,i.ect=r.resolve,i}var a=e.prototype;return a.buildCallback=function(){var t,i=this;return this.act(),(t=this.win,function(t,i,n,r,e){return W(t,i)||function(t,i,n,r,e){return(a=t.document,new Promise((function(t){return function(t,i){!function(t,i,n){if(i())n();else{var r=G(t);if(r.MutationObserver){var e=new r.MutationObserver((function(){i()&&(e.disconnect(),n())}));e.observe(t,{childList:!0})}else var a=r.setInterval((function(){i()&&(r.clearInterval(a),n())}),5)}}(t.documentElement,(function(){return!!t.body}),i)}(a,t)}))).then((function(){var i=J(t,"extensions");return function(t,i,n){return function(t){if(!t)return[];for(var i=t.querySelectorAll("script[custom-element],script[custom-template]"),n=[],r=0;r<i.length;r++){var e=i[r],a=e.getAttribute("custom-element")||e.getAttribute("custom-template"),s=bt(e.src);a&&s&&n.push({script:e,extensionId:a,extensionVersion:s.extensionVersion})}return n}(t.document.head).some((function(t){var r=t.extensionId,e=t.extensionVersion;return i==r&&n==e}))}(i.win,n,r)?i.waitForExtension(n,r):null})).then((function(n){return n?e?W(t,i):function(t,i){return tt(t,i)}(t,i):null}));var a}(t,i,n,r,e)}(t,"story-store","amp-story","1.0")).then((function(t){if(V(t),i.eT=t,i.sct()){var n=i.element.parentElement;H("AMP-STORY"===n.tagName,"<".concat(Sn,"> should be child of <amp-story>"));var r=i.getAmpDoc();return _t(i.win).installExtensionForDoc(r,"amp-ad"),n.getImpl().then((function(t){i.RL=t,i.Qht=new bn(i.element,i.win,i.RL)}))}}))},a.isLayoutSupported=function(){return!0},a.layoutCallback=function(){var t=this;return this.sct()?this.RL.signals().whenSignal(m).then((function(){return t.oct()})).then((function(){var i,n,r;t.nct=new ln(t.RL,t.wq),t.ect(t.nct),function(t,i){t.__AMP_EXPERIMENT_BRANCHES=t.__AMP_EXPERIMENT_BRANCHES||{};for(var n,r,e,a={},o=s([{experimentId:"story-ad-placements",isTrafficEligible:function(){return!0},branches:["31060567","31060568","31060817","31060569"]}],!0);!(n=o()).done;){var u,h=n.value,c=h.experimentId;T(t.__AMP_EXPERIMENT_BRANCHES,c)?a[c]=t.__AMP_EXPERIMENT_BRANCHES[c]:null!==(u=h.isTrafficEligible)&&void 0!==u&&u.call(h,t)?!t.__AMP_EXPERIMENT_BRANCHES[c]&&ot(t,c)&&(t.__AMP_EXPERIMENT_BRANCHES[c]=(r=h.branches,e=Math.random(),r[Math.floor(e*r.length)]||null),a[c]=t.__AMP_EXPERIMENT_BRANCHES[c]):t.__AMP_EXPERIMENT_BRANCHES[c]=null}}(t.win),t.ict=(i=t.eT,n=t.nct,"betweenStoriesAndPages"===(r=t.wq).adStrategy?new vn(i,n,r.adFrequency,r.adBuffer,r.adInitialIndex):new dn(i,n)),t.ict.isStoryEligible()&&(t.TN=K(t.element,fi),t.uct(),t.uT(),t.Qz())})):u()},a.act=function(){var t=this,i=Ot(this.Xc);i.isEmbedded()&&i.sendMessageAwaitResponse("playerExperiments").then((function(i){var n=null==i?void 0:i.experimentIds;n&&n.forEach((function(i){var n,r,e,a=En[i];a&&(n=t.win,r=a,e=i.toString(),n.__AMP_EXPERIMENT_BRANCHES=n.__AMP_EXPERIMENT_BRANCHES||{},function(t,i,n,r){var e=ot(t,i),a=null!=n?n:!e;if(a!=e&&(ut(t)[i]=a,0)){var s=ht(t);s[i]=a,function(t,i){var n=[];for(var r in i)n.push((!1===i[r]?"-":"")+r);try{var e;null===(e=t.localStorage)||void 0===e||e.setItem(at,n.join(","))}catch(t){M().error(et,"Failed to save experiments to localStorage.")}}(t,s),M().warn(et,'"%s" experiment %s for the domain "%s". See: https://amp.dev/documentation/guides-and-tutorials/learn/experimental',i,a?"enabled":"disabled",t.location.hostname)}}(n,r,!!e),n.__AMP_EXPERIMENT_BRANCHES[r]=e)}))})).catch((function(t){z().expectedError(Sn,"Player does not support `playerExperiments` message",t)}))},a.hct=function(t){var i=this,n=this.eT.get(Ut.CURRENT_PAGE_ID);t.registerLoadCallback((function(){return i.nct.maybeInsertPageAfter(n,t).then((function(){return i.cct(t)}))}))},a.cct=function(t){var i=t.getPageElement();i.setAttribute("distance","1"),function(t,i,n){var r=Nt(t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0);i.dispatchEvent(r)}(this.win,i,"ampstory:switchpage",{"targetPageId":"i-amphtml-ad-page-1","direction":"next"},{bubbles:!0})},a.oct=function(){var t=this;return this.Qht.getConfig().then((function(i){return t.wq=i,"custom"===i.type&&_t(t.win).installExtensionForDoc(t.element.getAmpDoc(),"amp-mustache","latest"),i}))},a.updateConfig=function(t){var i=this;return this.rct.then((function(n){return i.Qht.updateConfig(t).then((function(t){i.wq=t,n.updateConfig(t)}))}))},a.setUpNonAmpAdMetadata=function(t,i){return this.rct.then((function(n){n.setUpNonAmpAdMetadata(t,i)}))},a.sct=function(){return!!this.eT.get(Ut.CAN_INSERT_AUTOMATIC_AD)},a.uT=function(){var t=this;this.eT.subscribe(Ut.AD_STATE,(function(i){t.PD(i)})),this.eT.subscribe(Ut.PAUSED_STATE,(function(i){t.sL(i)})),this.eT.subscribe(Ut.RTL_STATE,(function(i){t.JC(i),t.fct()}),!0),this.eT.subscribe(Ut.UI_STATE,(function(i){t.TD(i),t.fct()}),!0);var i=this.eT.get(Ut.CURRENT_PAGE_ID);if(i){var n=this.eT.get(Ut.CURRENT_PAGE_INDEX);this.lct(n,i)}this.eT.subscribe(Ut.CURRENT_PAGE_ID,(function(i){var n=t.eT.get(Ut.CURRENT_PAGE_INDEX);t.lct(n,i)}))},a.PD=function(t){var i=this;this.mutateElement((function(){t?i.Zht.setAttribute(Tn,""):i.Zht.removeAttribute(Tn)}))},a.sL=function(t){var n;if(this.$ht){var r=this.$ht.getId(),e=this.nct.getIndexById(r);this.Cet(t?li.AD_PAUSED:li.AD_RESUMED,(i(n={},di,e),i(n,pi,r),n))}},a.JC=function(t){var i=this;this.mutateElement((function(){t?i.Zht.setAttribute("dir","rtl"):i.Zht.removeAttribute("dir")}))},a.TD=function(t){var i=this;this.mutateElement((function(){var n="desktop-fullbleed",r="desktop-one-panel";i.Zht.removeAttribute(n),i.Zht.removeAttribute(r),2===t&&i.Zht.setAttribute(n,""),4===t&&i.Zht.setAttribute(r,"")}))},a.uct=function(){var t=this.Xc.createElement("div");t.className="i-amphtml-ad-overlay-host",this.Zht=this.Xc.createElement("aside"),this.Zht.className="i-amphtml-ad-overlay-container";var i=this.Xc.createElement("div");i.className="i-amphtml-ad-badge-container";var n=this.Xc.createElement("div");n.className="i-amphtml-story-ad-badge",i.appendChild(n),this.Zht.appendChild(i),this.tct=this.Xc.createElement("div"),this.tct.className="i-amphtml-story-ad-attribution-text",this.Zht.appendChild(this.tct),ji(t,this.Zht,'.i-amphtml-ad-overlay-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;left:0!important;right:0!important;pointer-events:none!important;position:absolute!important;top:0!important;z-index:100001!important;padding:8px!important;visibility:hidden!important;opacity:0!important}.i-amphtml-ad-overlay-container[ad-showing]{visibility:visible!important;opacity:1!important}.i-amphtml-ad-badge-container{-ms-flex-align:center!important;align-items:center!important;display:-ms-flexbox!important;display:flex!important;height:46px!important;-ms-flex-pack:center!important;justify-content:center!important;width:40px!important}.i-amphtml-ad-badge-container[dir=rtl]{left:auto!important;right:0!important}.i-amphtml-story-ad-badge-svg{top:50%!important;left:50%!important;position:relative!important;transform:translate(-50%,-50%)!important}.i-amphtml-story-ad-badge{width:29px!important;height:20px!important;background:no-repeat 50% url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="29" height="20" fill="none"><path fill="%23fff" d="M9.05 5.2h2.02l3.5 9.3h-1.94l-.78-2.22H8.28L7.5 14.5H5.57l3.48-9.3zm2.22 5.46-1.21-3.45-1.22 3.45h2.43zm5.33 3.61c-2.09-1.4-2.1-4.76 0-6.15 1.15-.69 2.85-.64 3.64.56V5.19h1.68v9.31h-1.58v-.8c-.73 1.22-2.66 1.2-3.74.57zm1.93-1.13c1.07 0 1.8-.94 1.8-1.96s-.75-1.93-1.8-1.93c-1.06 0-1.8.93-1.8 1.94 0 1 .75 1.95 1.8 1.95z"/></svg>\'),#0003;border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}[dir=rtl] .i-amphtml-story-ad-badge{margin-left:0px!important;margin-right:16px!important}.i-amphtml-story-ad-attribution-text{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-size:13px!important;font-weight:500!important;text-shadow:0px 0px 6px rgba(0,0,0,0.16)!important;color:#fff!important;font-family:Roboto,sans-serif!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-ad-badge.css*/'),this.RL.element.appendChild(t)},a.Qz=function(){var t=this.ict.initializePages();this.vct(V(t[0]))},a.vct=function(t){this.element.hasAttribute("development")&&"fake"===this.wq.type&&this.hct(t)},a.lct=function(t,i){i&&!this.nct.hasId(i)&&this.ict.onPageChange(i),this.$ht&&this.dct(),this.nct.hasId(i)&&this.pct(t,i)},a.dct=function(){var t,n,r=this.$ht.getId(),e=this.nct.getIndexById(r);this.mct(),this.Cet(li.AD_EXITED,(i(t={},"exitTime",Date.now()),i(t,di,e),i(t,pi,r),t));var a,s=this.eT.get(Ut.ADVANCEMENT_MODE);"adAutoAdvanceMedia"!==s&&"adAutoAdvanceTime"!==s?this.Cet(li.AD_SKIPPED,(i(n={},di,e),i(n,pi,r),n)):this.Cet(li.AD_COMPLETE,(i(a={},di,e),i(a,pi,r),a))},a.pct=function(t,n){var r,e=this.nct.getAdPageById(n),a=this.nct.getIndexById(n);e.hasBeenViewed()||this.ict.onNewAdView(t),e.setPageAudioState(),this.Act(e),this.Cet(li.AD_VIEWED,(i(r={},"viewTime",Date.now()),i(r,di,a),i(r,pi,n),r))},a.Act=function(t){var i=this;this.mutateElement((function(){i.fct(),i.yct(t),t.toggleVisibility(!0),i.$ht=t}))},a.fct=function(){var t,i=".i-amphtml-story-system-layer-buttons",n=this.Xc.querySelector(i);if(!n){var r,e=this.Xc.querySelector(".i-amphtml-system-layer-host");n=null==e||null===(r=e.shadowRoot)||void 0===r?void 0:r.querySelector(i)}var a=null===(t=n)||void 0===t?void 0:t.offsetWidth,s="8px";a||I(this.Zht,{paddingLeft:s,paddingRight:s}),this.eT.get(Ut.RTL_STATE)?I(this.Zht,{paddingLeft:"calc(".concat(a,"px + ").concat(s,")"),paddingRight:s}):I(this.Zht,{paddingRight:"calc(".concat(a,"px + ").concat(s,")"),paddingLeft:s})},a.yct=function(t){var i=t.getAdvertiserName();this.tct.textContent=i||""},a.mct=function(){var t=this;this.mutateElement((function(){t.$ht&&(t.$ht.toggleVisibility(!1),t.$ht=null)}))},a.Cet=function(t,i){var n=this,e=i.adUniqueId,a=this.nct.getAdPageAnalyticsManagerById(e);this.TN.then((function(e){return e.fireEvent(n.element,i.adIndex,t,r(r({},i),null==a?void 0:a.getOneBoxAnalyticsData()))})),null==a||a.triggerAdAnalyticsEvent(t,i)},e}(t.BaseElement);t.registerElement("amp-story-auto-ads",_n,".i-amphtml-story-desktop-fullbleed .i-amphtml-cta-container{bottom:12.5vh!important;top:67.5%!important}.i-amphtml-glass-pane{height:100%!important;width:100%!important;z-index:1!important;pointer-events:auto!important}amp-story-page[xdomain-ad] .i-amphtml-glass-pane{height:80%!important}amp-story-page amp-ad iframe{width:100%;height:100%}amp-story-page amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl],amp-story-page amp-ad[type=adsense]{top:0!important;left:0!important;transform:translate(0)!important}.i-amphtml-story-desktop-fullbleed amp-story-grid-layer[template=fill]>amp-ad{left:50%!important;right:auto!important;margin:auto!important;min-height:75vh!important;max-height:75vh!important;min-width:45vh!important;max-width:45vh!important;transform:translateX(-50%)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads.css*/.i-amphtml-story-ad-link-root{all:initial!important;color:initial!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-shared.css*/"),t.registerServiceForDoc(fi,mi)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-auto-ads-0.1.js.map